openapi: 3.0.3
info:
  title: Arrangement Manager Service API
  description: This API allows other DBS services to operate on products
  version: '2.0.6'
servers:
  - url: 'http://localhost:4010'
    description: Arrangement manager mock server
tags:
  - name: accounts
  - name: arrangement-state
  - name: arrangements
  - name: balance-history
  - name: balances
  - name: product-kinds
  - name: product-summary
  - name: products
paths:
  /service-api/v2/productsummary/context/arrangements:
    summary: Arrangements by business function
    description: Endpoint for accessing arrangements for the current context.
    get:
      tags:
        - product-summary
      description: Get a list of arrangements according to a given business function
      operationId: getArrangementsByBusinessFunction
      parameters:
        - name: withLatestBalances
          in: query
          description: Retrieve a list of arrangements with the latest balances
          required: false
          schema:
            type: boolean
            default: true
          examples:
            example:
              summary: example
              value: true
        - name: maskIndicator
          in: query
          description: Masked/Unmasked card number
          required: false
          schema:
            type: boolean
          examples:
            example:
              summary: example
              value: false
        - name: debitAccount
          in: query
          description: Type of account
          required: false
          schema:
            type: boolean
          examples:
            example:
              summary: example
              value: true
        - name: creditAccount
          in: query
          description: Type of account
          required: false
          schema:
            type: boolean
          examples:
            example:
              summary: example
              value: true
        - name: businessFunction
          in: query
          description: Provide comma separated contexts for retrieving arrangements
          required: true
          schema:
            type: string
          examples:
            example:
              summary: example
              value: Product Summary
        - name: resourceName
          in: query
          description: Provide the resource for retrieving arrangements
          required: true
          schema:
            type: string
          examples:
            example:
              summary: example
              value: Product Summary
        - name: privilege
          in: query
          description: Privilege for the arrangements
          required: true
          schema:
            type: string
          examples:
            example:
              summary: example
              value: view
        - name: externalTransferAllowed
          in: query
          description: Privilege for external transfers
          required: false
          schema:
            type: boolean
          examples:
            example:
              summary: example
              value: false
        - name: productKindName
          in: query
          description: Product Kind Name
          required: false
          schema:
            type: string
          examples:
            example:
              summary: example
              value: Current Account
        - name: legalEntityIds
          in: query
          description: A list of legal entities ids to filter by
          required: false
          schema:
            type: array
            items:
              type: string
          examples:
            example:
              summary: example
              value:
                - 0e4c1c09-fcf4-42fe-ae57-342603d8ef82
                - 53f023cd-c016-4d19-bdf1-8d83f98c11e1
                - c0a20cc4-5e15-42d4-94a6-1101ed6c1c37
        - name: sourceId
          in: query
          description: 'identifies the system, either internal or external, that keeps records of the arrangement.'
          required: false
          schema:
            maxLength: 11
            type: string
          examples:
            example:
              summary: example
              value: LJBASI2XXXX
        - name: favorite
          in: query
          description: Indicates whether an arrangement is favorite for a user or not
          required: false
          schema:
            type: boolean
          examples:
            example:
              summary: example
              value: true
        - name: searchTerm
          in: query
          description: Full text search
          required: false
          schema:
            maxLength: 256
            type: string
          examples:
            example:
              summary: example
              value: Account X
        - name: customOrder
          in: query
          description: Parameter that identifies whether the returned list should be ordered by custom order/grouping
          required: false
          schema:
            type: boolean
          examples:
            example:
              summary: example
              value: true
        - name: favoriteFirst
          in: query
          description: Parameter that sets favorite arrangements on top when true
          required: false
          schema:
            type: boolean
            default: false
          examples:
            example:
              summary: example
              value: true
        - name: from
          in: query
          description: Page Number. Skip over pages of elements by specifying a start value for the query
          required: false
          schema:
            type: integer
            format: int32
            default: 0
          examples:
            example:
              summary: example
              value: 20
        - name: cursor
          in: query
          description: Record UUID. As an alternative for specifying 'from' this allows to point to the record to start the selection from.
          required: false
          schema:
            type: string
            default: ''
          examples:
            example:
              summary: example
              value: 76d5be8b-e80d-4842-8ce6-ea67519e8f74
        - name: size
          in: query
          description: |
            Limit the number of elements on the response. When used in combination with cursor, the value
            is allowed to be a negative number to indicate requesting records upwards from the starting point indicated
            by the cursor.
          required: false
          schema:
            type: integer
            format: int32
            default: 10
          examples:
            example:
              summary: example
              value: 80
        - $ref: '#/components/parameters/query-order-by'
        - $ref: '#/components/parameters/query-sort-direction'
        - $ref: '#/components/parameters/header-content-language'
      responses:
        '200':
          description: Product summary by legal entity id. Initial call to retrieve the paginated list of product summary by legal entity id.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductSummaryFlatStructure'
              example:
                $ref: '#/components/schemas/ProductSummaryFlatStructure/example'
        '400':
          $ref: '#/components/responses/400'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/arrangements:
    summary: Arrangements
    description: Arrangements
    get:
      tags:
        - arrangements
      description: 'Get a list of arrangements with a corresponding product from pandp service based on query of provided IBAN (note: only one arrangement is returned for IBAN), an array of arrangements ids or an array of external arrangements ids'
      operationId: getArrangements
      parameters:
        - name: iban
          in: query
          description: The IBAN is an internationally agreed system of identifying bank accounts across national borders.
          required: false
          schema:
            type: string
          examples:
            example:
              summary: example
              value: FR188388353832IH3CAWFYXAA36
        - name: arrangementIds
          in: query
          description: A list of internal arrangements ids
          required: false
          schema:
            type: array
            items:
              type: string
          examples:
            example:
              summary: example
              value:
                - oiuoioi-3893ower-oji23-lelw
                - 13132fds-sfdfdsfd12-dsfsfd-123
        - name: externalArrangementIds
          in: query
          description: A list of external arrangements ids
          required: false
          schema:
            minItems: 1
            type: array
            items:
              type: string
          examples:
            example:
              summary: example
              value:
                - b8ldxMET3az82SCCAbb1ICGgKAD1V2vMhps3AwH0GL849pQthY
                - q7RPHCEhcWtsjSSPbwoFkN5pbRtYPniSKSPU1H9fI2ReWInPHD
      responses:
        '200':
          description: List of arrangement items
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountArrangementItems'
              examples:
                example:
                  $ref: '#/components/examples/AccountArrangementItems'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - arrangements
      description: Update arrangement by an arrangement id
      operationId: putArrangements
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountArrangementItemPut'
            example:
              externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5fe66
              name: Spending fee
              bookedBalance: 100.1
              availableBalance: 100.2
              creditLimit: 100.3
              IBAN: GB29NWBK60161331926819
              BBAN: BBAN
              currency: EUR
              bankAlias: Secret account
              externalTransferAllowed: true
              urgentTransferAllowed: false
              accruedInterest: 3.3
              number: PANSuffix
              principalAmount: 100.4
              currentInvestmentValue: 100.5
              productNumber: productNumber
              BIC: BICExample1
              bankBranchCode: bankBranchCode1
              accountOpeningDate: '2016-01-28T16:41:41.090Z'
              accountInterestRate: 100.2
              valueDateBalance: 100.1
              creditLimitUsage: 100.3
              creditLimitInterestRate: 100.4
              creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
              startDate: '2016-02-28T16:41:41.090Z'
              termUnit: 'Y'
              termNumber: 50
              interestPaymentFrequencyUnit: M
              interestPaymentFrequencyNumber: 15
              maturityDate: '2017-02-28T16:41:41.090Z'
              maturityAmount: 99.5
              autoRenewalIndicator: true
              interestSettlementAccount: interestSettlementAccount1
              outstandingPrincipalAmount: 100.2
              monthlyInstalmentAmount: 100.1
              amountInArrear: 100.3
              minimumRequiredBalance: 80.4
              creditCardAccountNumber: '123456'
              validThru: '2019-02-28T16:41:41.090Z'
              applicableInterestRate: 101.2
              remainingCredit: 50
              outstandingPayment: 105.5
              minimumPayment: 51.1
              minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
              totalInvestmentValue: 110.2
              debitCards:
                - number: '4578'
                  expiryDate: '2020-08-22'
                  cardId: id2
                  cardholderName: John Doe
                  cardType: Visa Electron
                  cardStatus: Active
                - number: '3241'
                  expiryDate: '2019-01-14'
                  cardId: id1
                  cardholderName: John Doe
                  cardType: Visa
                  cardStatus: Active
              accountHolderAddressLine1: accountHolderAddressLine11
              accountHolderAddressLine2: accountHolderAddressLine12
              accountHolderStreetName: street1
              town: Amsterdam
              postCode: '5000'
              countrySubDivision: subDivision
              accountHolderNames: 'Okuneva Spencer,Mile Panika'
              accountHolderCountry: AF
              creditAccount: true
              debitAccount: true
              lastUpdateDate: '2019-09-28T16:41:41.090Z'
              productId: productId
              sourceId: LJBASI2XXXX
              externalStateId: externalStateId1
              externalParentId: externalParentId100
      responses:
        '204':
          description: Indicates successful update of an arrangement
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    post:
      tags:
        - arrangements
      description: Create a arrangement with external arrangement id and returns the internal arrangement id
      operationId: postArrangements
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountArrangementItemPost'
            example:
              externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5fe66
              name: Spending fee
              bookedBalance: 100.1
              availableBalance: 100.2
              creditLimit: 100.3
              IBAN: GB29NWBK60161331926819
              BBAN: BBAN
              currency: EUR
              bankAlias: Secret account
              externalTransferAllowed: true
              urgentTransferAllowed: false
              accruedInterest: 3.3
              number: PANSuffix
              principalAmount: 100.4
              currentInvestmentValue: 100.5
              productNumber: productNumber
              BIC: BICExample1
              bankBranchCode: bankBranchCode1
              accountOpeningDate: '2016-01-28T16:41:41.090Z'
              accountInterestRate: 100.2
              valueDateBalance: 100.1
              creditLimitUsage: 100.3
              creditLimitInterestRate: 100.4
              creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
              startDate: '2016-02-28T16:41:41.090Z'
              termUnit: 'Y'
              termNumber: 50
              interestPaymentFrequencyUnit: M
              interestPaymentFrequencyNumber: 15
              maturityDate: '2017-02-28T16:41:41.090Z'
              maturityAmount: 99.5
              autoRenewalIndicator: true
              interestSettlementAccount: interestSettlementAccount1
              outstandingPrincipalAmount: 100.2
              monthlyInstalmentAmount: 100.1
              amountInArrear: 100.3
              minimumRequiredBalance: 80.4
              creditCardAccountNumber: '123456'
              validThru: '2019-02-28T16:41:41.090Z'
              applicableInterestRate: 101.2
              remainingCredit: 50
              outstandingPayment: 105.5
              minimumPayment: 51.1
              minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
              totalInvestmentValue: 110.2
              debitCards:
                - number: '4578'
                  expiryDate: '2020-08-22'
                - number: '3241'
                  expiryDate: '2019-01-14'
              accountHolderAddressLine1: accountHolderAddressLine11
              accountHolderAddressLine2: accountHolderAddressLine12
              accountHolderStreetName: street1
              town: Amsterdam
              postCode: '5000'
              countrySubDivision: subDivision
              accountHolderNames: 'Okuneva Spencer,Mile Panika'
              accountHolderCountry: AF
              creditAccount: true
              debitAccount: true
              lastUpdateDate: '2019-09-28T16:41:41.090Z'
              productId: productId
              externalLegalEntityIds:
                - le1
                - le2
              externalProductId: externalProductidId
              sourceId: LJBASI2XXXX
              externalStateId: externalStateId1
              externalParentId: externalParentId100
      responses:
        '201':
          description: Creating new Arrangement
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountArrangementAddedResponse'
              example:
                id: 729190df-a421-4937-94fd-5e1a3da132cc
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/arrangements/filter:
    summary: FilterArrangements
    description: Filter Arrangements
    post:
      tags:
        - arrangements
      description: 'Arrangements retrieval mechanism with the following features: filters, searching, sorting and pagination.'
      operationId: postFilter
      requestBody:
        required: true
        description: 'Arrangements retrieval mechanism with the following features: filters, searching, sorting and pagination.'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountArrangementsFilter'
      responses:
        '200':
          description: Filters arrangements by given parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountArrangementItems'
              examples:
                example:
                  $ref: '#/components/examples/AccountArrangementItems'
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/arrangements/batch:
    summary: BatchUpsertArrangements
    description: No description available
    post:
      tags:
        - arrangements
      description: Butch insert or update on arrangement by an arrangement id.
      operationId: postBatchUpsertArrangements
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountBatchUpsertArrangement'
            example:
              - externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5fe66
                name: Spending fee
                bookedBalance: 100.1
                availableBalance: 100.2
                creditLimit: 100.3
                IBAN: GB29NWBK60161331926819
                BBAN: BBAN
                currency: EUR
                bankAlias: Secret account
                externalTransferAllowed: true
                urgentTransferAllowed: false
                accruedInterest: 3.3
                number: PANSuffix
                principalAmount: 100.4
                currentInvestmentValue: 100.5
                productNumber: productNumber
                BIC: BICExample1
                bankBranchCode: bankBranchCode1
                accountOpeningDate: '2016-01-28T16:41:41.090Z'
                accountInterestRate: 100.2
                valueDateBalance: 100.1
                creditLimitUsage: 100.3
                creditLimitInterestRate: 100.4
                creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
                startDate: '2016-02-28T16:41:41.090Z'
                termUnit: 'Y'
                termNumber: 50
                interestPaymentFrequencyUnit: M
                interestPaymentFrequencyNumber: 15
                maturityDate: '2017-02-28T16:41:41.090Z'
                maturityAmount: 99.5
                autoRenewalIndicator: true
                interestSettlementAccount: interestSettlementAccount1
                outstandingPrincipalAmount: 100.2
                monthlyInstalmentAmount: 100.1
                amountInArrear: 100.3
                minimumRequiredBalance: 80.4
                creditCardAccountNumber: '123456'
                validThru: '2019-02-28T16:41:41.090Z'
                applicableInterestRate: 101.2
                remainingCredit: 50
                outstandingPayment: 105.5
                minimumPayment: 51.1
                minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
                totalInvestmentValue: 110.2
                debitCards:
                  - number: '4578'
                    expiryDate: '2020-08-22'
                  - number: '3241'
                    expiryDate: '2019-01-14'
                accountHolderAddressLine1: accountHolderAddressLine11
                accountHolderAddressLine2: accountHolderAddressLine12
                accountHolderStreetName: street1
                town: Amsterdam
                postCode: '5000'
                countrySubDivision: subDivision
                accountHolderNames: 'Okuneva Spencer,Mile Panika,Danthe Mohr'
                accountHolderCountry: AF
                creditAccount: true
                debitAccount: true
                lastUpdateDate: '2019-09-28T16:41:41.090Z'
                productId: productId
                externalLegalEntityId: le1
                externalLegalEntityIds:
                  - le1
                  - le2
                externalProductId: externalProductidId
                legalEntityId: le1 | Deprecated
                sourceId: LJBASI2XXXX
                externalStateId: externalStateId1
                externalParentId: externalParentId100
      responses:
        '207':
          description: multiStatusExtended
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountBatchUpsertArrangementsPostResponseBody'
        '400':
          $ref: '#/components/responses/400'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/arrangements/legalentities:
    summary: ArrangementsLegalEntities
    description: No description available
    get:
      tags:
        - arrangements
      description: Retrieves non deleted arrangement ids with legal entity ids for given legal entity ids and arrangement ids
      operationId: getArrangementsLegalEntities
      parameters:
        - name: arrangementIds
          in: query
          description: A list of internal arrangements ids
          required: true
          schema:
            type: array
            uniqueItems: true
            items:
              type: string
          examples:
            example:
              summary: example
              value:
                - oiuoioi-3893ower-oji23-lelw
                - 13132fds-sfdfdsfd12-dsfsfd-123
        - name: legalEntityIds
          in: query
          description: A list of internal legalEntity ids
          required: true
          schema:
            type: array
            uniqueItems: true
            items:
              type: string
          examples:
            example:
              summary: example
              value:
                - ajfajfa-dasffa-jadaae-supce0a
                - afawfc-na2v6ecer-k4673aj-kosm98a4ta
      responses:
        '200':
          description: Return arrangement ids with legalentity ids
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountArrangementsLegalEntities'
              example:
                arrangementsLegalEntities:
                  - arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
                    legalEntityIds:
                      - b4d-a99f-1c9dfbbb4610
                      - 123lk-8926bb4610
                  - arrangementId: a99f-1c9d
                    legalEntityIds:
                      - 23KN-4234KJN-fbbb4610
                      - 453JKNN3JK-26bb4610
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  '/service-api/v2/arrangements/{externalArrangementId}/legalentities':
    summary: ArrangementLegalEntities
    description: No description available
    parameters:
      - name: externalArrangementId
        in: path
        description: external arrangement id
        required: true
        schema:
          type: string
    post:
      tags:
        - arrangements
      description: 'Delegates & transforms call (external ids are replaced by internal) from integration to pandp for adding legal entity to an existing arrangement. In the process if no legal entity or arrangement is found for the specified ids it will result in appropriate ''not found'' exception. Additionally, all validation constraints will be checked here and they will result in appropriate ''bad request''.'
      operationId: postArrangementLegalEntities
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountExternalLegalEntityIds'
            example:
              ids:
                - TNPnu8Qp1T3TkpGblrgFSoBYBlQ9cVTUQwyRip1PWa0u6IKgUz
                - kn3Ai4iLcnT52VpsBdMCuukRLVTBpqkHVfLQr4VVaCjAgHRibU
      responses:
        '204':
          description: Indicates successful addition of legal entities ids related to a specific arrangement.
        '400':
          $ref: '#/components/responses/400'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    delete:
      tags:
        - arrangements
      description: 'Delegates & transforms call (external ids are replaced by internal) from integration to pandp for removing legal entity from an existing arrangement. In the process if no legal entity or arrangement is found for the specified ids it will result in appropriate ''not found'' exception. Additionally, all validation constraints will be checked here and they will result in appropriate ''bad request''.'
      operationId: deleteArrangementLegalEntities
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountExternalLegalEntityIds'
            example:
              $ref: '#/paths/~1service-api~1v2~1arrangements~1%7BexternalArrangementId%7D~1legalentities/post/requestBody/content/application~1json/example'
      responses:
        '204':
          description: Indicates successful removal of legal entities ids related to a specific arrangement.
        '400':
          $ref: '#/components/responses/400'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  '/service-api/v2/arrangements/internal/{externalId}':
    summary: InternalId
    description: No description available
    parameters:
      - name: externalId
        in: path
        description: external id
        required: true
        schema:
          type: string
        examples:
          example:
            summary: example
            value: 69f55f5e-e5a8-491f-945a-402004609fe1
    get:
      tags:
        - arrangements
      summary: Retrieve Internal Arrangement Id for External Id.
      description: Retrieve Internal Arrangement Id for External Id.
      operationId: getInternalId
      responses:
        '200':
          description: Initial call to retrieve a internal id from the backbase platform by External Id of the arrangement.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountInternalIdGetResponseBody'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  '/service-api/v2/arrangements/{id}':
    summary: ArrangementById
    description: No description available
    get:
      tags:
        - arrangements
      description: Retrieve a single arrangement with details.
      operationId: getArrangementById
      responses:
        '200':
          description: Single Arrangement with details retrieved by internal arrangement ID
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountArrangementItem'
              example:
                id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
                externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5fe66
                name: Spending fee
                bookedBalance: 100.1
                availableBalance: 100.2
                creditLimit: 100.3
                IBAN: GB29NWBK60161331926819
                BBAN: BBAN
                currency: EUR
                bankAlias: Secret account
                externalTransferAllowed: true
                urgentTransferAllowed: false
                accruedInterest: 3.3
                number: PANSuffix
                principalAmount: 100.4
                currentInvestmentValue: 100.5
                productNumber: productNumber
                BIC: BICExample1
                bankBranchCode: bankBranchCode1
                accountOpeningDate: '2016-01-28T16:41:41.090Z'
                accountInterestRate: 100.2
                valueDateBalance: 100.1
                creditLimitUsage: 100.3
                creditLimitInterestRate: 100.4
                creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
                startDate: '2016-02-28T16:41:41.090Z'
                termUnit: 'Y'
                termNumber: 50
                interestPaymentFrequencyUnit: M
                interestPaymentFrequencyNumber: 15
                maturityDate: '2017-02-28T16:41:41.090Z'
                maturityAmount: 99.5
                autoRenewalIndicator: true
                interestSettlementAccount: interestSettlementAccount1
                outstandingPrincipalAmount: 100.2
                monthlyInstalmentAmount: 100.1
                amountInArrear: 100.3
                minimumRequiredBalance: 80.4
                creditCardAccountNumber: '123456'
                validThru: '2019-02-28T16:41:41.090Z'
                applicableInterestRate: 101.2
                remainingCredit: 50
                outstandingPayment: 105.5
                minimumPayment: 51.1
                minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
                totalInvestmentValue: 110.2
                debitCards:
                  - number: '4578'
                    expiryDate: '2020-08-22'
                    cardId: id2
                    cardholderName: John Doe
                    cardType: Visa Electron
                    cardStatus: Active
                  - number: '3241'
                    expiryDate: '2019-01-14'
                    cardId: id1
                    cardholderName: John Doe
                    cardType: Visa
                    cardStatus: Active
                accountHolderAddressLine1: accountHolderAddressLine11
                accountHolderAddressLine2: accountHolderAddressLine12
                accountHolderStreetName: street1
                town: Amsterdam
                postCode: '5000'
                countrySubDivision: subDivision
                accountHolderNames: 'Okuneva Spencer,Danthe Mohr'
                accountHolderCountry: AF
                creditAccount: true
                debitAccount: true
                lastUpdateDate: '2019-09-28T16:41:41.090Z'
                productId: productId
                productKindName: Current Account
                visible: true
                legalEntityIds:
                  - le1
                  - le2
                productTypeName: productTypeName
                externalLegalEntityId: le1
                externalProductId: externalProductidId
                userPreferences:
                  arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
                  alias: My Bank Account
                  visible: true
                  favorite: false
                product:
                  externalId: externalProductidId
                  externalTypeId: externalProductTypeId
                  typeName: productTypeName
                  productKind:
                    externalKindId: kind1
                    kindName: Current Account
                    kindUri: current-account
                state:
                  externalStateId: externalStateId1
                  state: Active
                sourceId: LJBASI2XXXX
                parentId: '100'
                externalParentId: externalParentId100
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      x-bb-access-control-resource: Product Summary
      x-bb-access-control-function: Product Summary
      x-bb-access-control-privilege: view
      parameters:
        - name: id
          in: path
          description: Internal arrangement id
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 36
          examples:
            example:
              summary: example
              value: ja12u49303-29202028hdu822-28ckqewer
    put:
      tags:
        - arrangements
      description: Update arrangement by an arrangement id.
      operationId: putArrangementById
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountArrangementPutItem'
            example:
              productId: d64c31c4-50e4
              name: Spending fee
              bankAlias: Secret account
              bookedBalance: 100.1
              availableBalance: 100.2
              creditLimit: 100.3
              IBAN: GB29NWBK60161331926819
              BBAN: BBAN
              currency: EUR
              externalTransferAllowed: true
              urgentTransferAllowed: false
              accruedInterest: 3.3
              number: PANSuffix
              principalAmount: 100.4
              currentInvestmentValue: 100.5
              productNumber: productNumber
              BIC: BICExample1
              bankBranchCode: bankBranchCode1
              accountOpeningDate: '2016-01-28T16:41:41.090Z'
              accountInterestRate: 100.2
              valueDateBalance: 100.1
              creditLimitUsage: 100.3
              creditLimitInterestRate: 100.4
              creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
              debitCards:
                - number: '4578'
                  expiryDate: '2020-08-22'
                  cardId: id2
                  cardholderName: John Doe
                  cardType: Visa Electron
                - number: '3241'
                  expiryDate: '2019-01-14'
                  cardId: id1
                  cardholderName: John Doe
                  cardType: Visa
              startDate: '2016-02-28T16:41:41.090Z'
              termUnit: 'Y'
              termNumber: 50
              maturityDate: '2017-02-28T16:41:41.090Z'
              maturityAmount: 99.5
              autoRenewalIndicator: true
              interestPaymentFrequencyUnit: M
              interestPaymentFrequencyNumber: 15
              interestSettlementAccount: interestSettlementAccount1
              outstandingPrincipalAmount: 100.2
              monthlyInstalmentAmount: 100.1
              amountInArrear: 100.3
              minimumRequiredBalance: 80.4
              creditCardAccountNumber: '123456'
              validThru: '2019-02-28T16:41:41.090Z'
              applicableInterestRate: 101.2
              remainingCredit: 50
              outstandingPayment: 105.5
              minimumPayment: 51.1
              minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
              totalInvestmentValue: 110.2
              accountHolderAddressLine1: accountHolderAddressLine11
              accountHolderAddressLine2: accountHolderAddressLine12
              accountHolderStreetName: street1
              town: Amsterdam
              postCode: '5000'
              countrySubDivision: subDivision
              accountHolderNames: 'Robin Green,Sarah Lee'
              accountHolderCountry: AF
              creditAccount: true
              debitAccount: true
              lastUpdateDate: '2019-09-28T16:41:41.090Z'
              sourceId: LJBASI2XXXX
              stateId: 1
              parentId: '100'
              externalParentId: externalParentId100
      responses:
        '204':
          description: Arrangement updated successfully.
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      parameters:
        - name: id
          in: path
          description: Arrangement id
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 36
          examples:
            example:
              summary: example
              value: ja12u49303-29202028hdu822-28ckqewer
    delete:
      tags:
        - arrangements
      description: Delete Arrangement by external arrangement id.
      operationId: deleteExternalArrangementId
      responses:
        '204':
          description: Indicates successful delete on an arrangement.
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      deprecated: true
      x-bb-api-deprecation-deprecated-from-version: DBS 2.19.0
      x-bb-api-deprecation-removed-from-version: DBS 2.20.0
      x-bb-api-deprecation-reason: '| The functionality covered by service endpoint in presentation api.'
      x-bb-api-deprecation-description: '| From DBS 2.20.0 this endpoint will no longer be exposed. Please use POST /service-api/v2/arrangements/delete endpoint in account-presentation-spec instead.'
      parameters:
        - name: id
          in: path
          description: External arrangement id
          required: true
          schema:
            type: string
  /service-api/v2/arrangements/withLiveBalances:
    summary: ArrangementsWithLiveBalances
    description: Retrieve arrangements with live balances
    get:
      tags:
        - arrangements
      description: JMS endpoint for getting arrangements with live balances for the provided list of pair BBAN and bankBranchCode
      operationId: getArrangementsWithLiveBalances
      parameters:
        - name: identifiersPairs
          in: query
          description: A json list of identifiers. Currently the pair consists of BBAN and bankBranchCode
          required: true
          schema:
            type: string
          example: '[{\"BBAN\":\"BBAN\",\"bankBranchCode\":\"bankBranchCode1\"},{\"BBAN\":\"BBAN2\",\"bankBranchCode\":\"bankBranchCode2\"}]'
      responses:
        '200':
          description: List of arrangements with live balances
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountArrangementItems'
              examples:
                example:
                  $ref: '#/components/examples/AccountArrangementItems'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/arrangements/user-preferences:
    summary: UserPreferences
    description: User defined preferences which are only utilized by front end
    get:
      tags:
        - arrangements
      description: Retrieve user defined preferences for arrangement id
      operationId: getUserPreferences
      parameters:
        - name: arrangementId
          in: query
          description: No description available
          required: true
          schema:
            type: string
          examples:
            example:
              summary: example
              value: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
        - name: userId
          in: query
          description: No description available
          required: false
          schema:
            type: string
          examples:
            example:
              summary: example
              value: bb1ICGg353832IH3CAWFYXAA36
        - name: favorite
          in: query
          description: Favorite flag
          required: false
          schema:
            type: boolean
          examples:
            example:
              summary: example
              value: true
      responses:
        '200':
          description: |-
            The following user preferences for an arrangement have been retrieved from persistence layer:
            * favorite
            * bankAlias
            * visible
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountUserPreferencesItem'
              example:
                arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
                alias: My Bank Account
                visible: true
                favorite: false
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      x-bb-access-control-resource: Product Summary
      x-bb-access-control-function: Product Summary
      x-bb-access-control-privilege: view
    put:
      tags:
        - arrangements
      description: Endpoint for updating the user preferences of the arrangement
      operationId: putUserPreferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountUserPreferencesItemPut'
            example:
              arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
              userId: 5ed0e831dfa
              alias: My Bank Account
              visible: true
              favorite: false
      responses:
        '204':
          description: User preferences are updated successfully
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/arrangements/delete:
    summary: /delete
    description: Delete arrangements
    post:
      tags:
        - arrangements
      description: Delete arrangements by internal or external ids
      operationId: postDelete
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountArrangementsDelete'
            example:
              - selector: ID
                value: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
              - selector: ID
                value: 59263afe-0643-4b4d-baef-1c9dfbbb4699
              - selector: EXTERNAL_ID
                value: 9u86j4p3itbfvoe8uy13452voo
              - selector: EXTERNAL_ID
                value: 9023n09-1n209n092-ntye6ey6-aedsr
      responses:
        '200':
          description: List of delete items used to identify the arrangements to be deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountArrangementsDeleteResponse'
              example:
                - selector: ID
                  value: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
                  status: '200'
                - selector: ID
                  value: 59263afe-0643-4b4d-baef-1c9dfbbb4699
                  status: '200'
                - selector: EXTERNAL_ID
                  value: 9u86j4p3itbfvoe8uy13452voo
                  status: '200'
                - selector: EXTERNAL_ID
                  value: 9023n09-1n209n092-ntye6ey6-aedsr
                  status: '404'
                  errors:
                    - message: Arrangement not found
                      key: arrangements.api.notFound.arrangement
        '400':
          $ref: '#/components/responses/400'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/accounts/balance:
    summary: Balance
    description: Retrieve balance by the following parameter
    get:
      tags:
        - accounts
      description: 'Retrieve balance by the following parameter: arrangementIds - external'
      operationId: getBalance
      parameters:
        - name: arrangementIds
          in: query
          description: external arrangement ids
          required: false
          schema:
            type: string
          examples:
            example:
              summary: example
              value: '1cdb2224-8926-4b4d-a99f-1c9dfbbb4699,kjh4567-asd1-11e7-b114-b2f933d50000'
      responses:
        '200':
          description: Balance items. Balance retrieved from the banks for the provided arrangement id
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AccountBalanceItem'
              example:
                - arrangementId: A02
                  bookedBalance: 2000.2
                  availableBalance: 200000.2
                  creditLimit: 65453.14
                  outstandingPrincipalAmount: 104.3
                  currentInvestmentValue: 300.5
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/accounts/balance-history:
    summary: BalanceHistory
    description: Endpoints for managing the balance history of an arrangement
    post:
      tags:
        - accounts
      description: Supplements supplied balance history item with internal arrangement id and sends it to arrangement pandp service.
      operationId: postBalanceHistory
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceHistoryAddRequest'
            example:
              externalArrangementId: 9u86j4p3itbfvoe8uy13452voo
              balance: 9834587923.2
              updatedDate: '2016-01-28T16:41:41.090Z'
      responses:
        '201':
          description: Indication of successful processing of balance history item and successful saving of balance history item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceHistoryAddResponse'
              example:
                id: okm2a34-a421-1232-94fd-5e1a3da132cc
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/accounts/recipientArrangementIds:
    summary: GetRecipientArrangements
    description: Get a list of arrangement ids the user can make payments to
    get:
      tags:
        - accounts
      description: Get a list of arrangement ids the user can make payments to
      operationId: getGetRecipientArrangements
      parameters:
        - name: arrangementId
          in: query
          description: Internal arrangementId of the FROM account
          required: true
          schema:
            maxLength: 36
            minLength: 1
            type: string
          examples:
            example:
              summary: example
              value: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
      responses:
        '200':
          description: Recipient arrangements. Returns a list of Arrangements that are eligible to be recipients of a payment.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountRecipientArrangements'
              example:
                - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
                  externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5fe66
                  name: Spending fee
                  bookedBalance: 100.1
                  availableBalance: 100.2
                  creditLimit: 100.3
                  IBAN: GB29NWBK60161331926819
                  BBAN: BBAN
                  currency: EUR
                  bankAlias: Secret account
                  externalTransferAllowed: true
                  urgentTransferAllowed: false
                  accruedInterest: 3.3
                  number: PANSuffix
                  principalAmount: 100.4
                  currentInvestmentValue: 100.5
                  productNumber: productNumber
                  BIC: BICExample1
                  bankBranchCode: bankBranchCode1
                  accountOpeningDate: '2016-01-28T16:41:41.090Z'
                  accountInterestRate: 100.2
                  valueDateBalance: 100.1
                  creditLimitUsage: 100.3
                  creditLimitInterestRate: 100.4
                  creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
                  startDate: '2016-02-28T16:41:41.090Z'
                  termUnit: 'Y'
                  termNumber: 50
                  interestPaymentFrequencyUnit: M
                  interestPaymentFrequencyNumber: 15
                  maturityDate: '2017-02-28T16:41:41.090Z'
                  maturityAmount: 99.5
                  autoRenewalIndicator: true
                  interestSettlementAccount: interestSettlementAccount1
                  outstandingPrincipalAmount: 100.2
                  monthlyInstalmentAmount: 100.1
                  amountInArrear: 100.3
                  minimumRequiredBalance: 80.4
                  creditCardAccountNumber: '123456'
                  validThru: '2019-02-28T16:41:41.090Z'
                  applicableInterestRate: 101.2
                  remainingCredit: 50
                  outstandingPayment: 105.5
                  minimumPayment: 51.1
                  minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
                  totalInvestmentValue: 110.2
                  debitCards:
                    - number: '4578'
                      expiryDate: '2020-08-22'
                    - number: '3241'
                      expiryDate: '2019-01-14'
                  accountHolderAddressLine1: accountHolderAddressLine11
                  accountHolderAddressLine2: accountHolderAddressLine12
                  accountHolderStreetName: street1
                  town: Amsterdam
                  postCode: '5000'
                  countrySubDivision: subDivision
                  accountHolderNames: 'Okuneva Spencer,Mile Panika'
                  accountHolderCountry: AF
                  creditAccount: true
                  debitAccount: true
                  lastUpdateDate: '2019-09-28T16:41:41.090Z'
                  productId: productId
                  productKindName: Current Account
                  visible: true
                  legalEntityIds:
                    - le1
                    - le2
                  productTypeName: productTypeName
                  externalLegalEntityId: le1
                  externalProductId: externalProductidId
                  userPreferences:
                    arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
                    alias: My Bank Account
                    visible: true
                    favorite: false
                  product:
                    externalId: externalProductidId
                    externalTypeId: externalProductTypeId
                    typeName: productTypeName
                    productKind:
                      externalKindId: kind1
                      kindName: Current Account
                      kindUri: current-account
                  sourceId: LJBASI2XXXX
                - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb46aa
                  externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5feaa
                  name: Spending fee
                  bookedBalance: 100.1
                  availableBalance: 100.2
                  creditLimit: 100.3
                  IBAN: GB29NWBK60161331926819
                  BBAN: BBAN
                  currency: EUR
                  bankAlias: Secret account
                  externalTransferAllowed: true
                  urgentTransferAllowed: false
                  accruedInterest: 3.3
                  number: PANSuffix
                  principalAmount: 100.4
                  currentInvestmentValue: 100.5
                  productNumber: productNumber
                  BIC: BICExample1
                  bankBranchCode: bankBranchCode1
                  accountOpeningDate: '2016-01-28T16:41:41.090Z'
                  accountInterestRate: 100.2
                  valueDateBalance: 100.1
                  creditLimitUsage: 100.3
                  creditLimitInterestRate: 100.4
                  creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
                  startDate: '2016-02-28T16:41:41.090Z'
                  termUnit: 'Y'
                  termNumber: 50
                  interestPaymentFrequencyUnit: M
                  interestPaymentFrequencyNumber: 15
                  maturityDate: '2017-02-28T16:41:41.090Z'
                  maturityAmount: 99.5
                  autoRenewalIndicator: true
                  interestSettlementAccount: interestSettlementAccount1
                  outstandingPrincipalAmount: 100.2
                  monthlyInstalmentAmount: 100.1
                  amountInArrear: 100.3
                  minimumRequiredBalance: 80.4
                  creditCardAccountNumber: '123456'
                  validThru: '2019-02-28T16:41:41.090Z'
                  applicableInterestRate: 101.2
                  remainingCredit: 50
                  outstandingPayment: 105.5
                  minimumPayment: 51.1
                  minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
                  totalInvestmentValue: 110.2
                  debitCards:
                    - number: '4578'
                      expiryDate: '2020-08-22'
                    - number: '3241'
                      expiryDate: '2019-01-14'
                  accountHolderAddressLine1: accountHolderAddressLine11
                  accountHolderAddressLine2: accountHolderAddressLine12
                  accountHolderStreetName: street1
                  town: Amsterdam
                  postCode: '5000'
                  countrySubDivision: subDivision
                  accountHolderNames: 'Okuneva Spencer,Mile Panika'
                  accountHolderCountry: AF
                  creditAccount: true
                  debitAccount: true
                  lastUpdateDate: '2019-09-28T16:41:41.090Z'
                  productId: productId
                  productKindName: Current Account
                  visible: true
                  legalEntityIds:
                    - le1
                    - le2
                  productTypeName: productTypeName
                  externalLegalEntityId: le1
                  externalProductId: externalProductidId
                  userPreferences:
                    arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
                    alias: My Bank Account
                    visible: true
                    favorite: false
                  product:
                    externalId: externalProductidId
                    externalTypeId: externalProductTypeId
                    typeName: productTypeName
                    productKind:
                      externalKindId: kind1
                      kindName: Current Account
                      kindUri: current-account
                  sourceId: LJBASI2XXXX
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/products:
    summary: Products
    description: Endpoint for accessing products for the current context.
    get:
      tags:
        - products
      description: Get a list of product
      operationId: getProducts
      parameters:
        - name: externalProductsIds
          in: query
          description: An array of external products ids
          required: false
          schema:
            type: array
            uniqueItems: true
            minItems: 1
            items:
              type: string
              maxLength: 50
              minLength: 1
          example:
            - oiuoi6464223500oi3893oweroji241112985023lelw12k1ra
            - '86740390819729071072646422350015892880623494111947'
        - name: productKindName
          in: query
          description: Product kind name
          required: false
          schema:
            type: string
            maxLength: 50
            minLength: 1
          examples:
            example:
              summary: example
              value: Money market accounts
      responses:
        '200':
          description: Initial call to retrieve the catalogue list.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountProductsGet'
              example:
                - id: id0
                  externalProductId: externalProductId
                  externalProductKindId: externalProductKindId
                  productKindName: Current Account
                  externalProductTypeId: externalProductTypeId
                  productTypeName: Custom Current Account
                  translations:
                    - locale: de_DE
                      localeTranslations:
                        - fieldName: type_name
                          fieldValue: Benutzerdefiniertes Girokonto
                    - locale: ar_JO
                      localeTranslations:
                        - fieldName: type_name
                          fieldValue: الحساب الجاري المخصص
                - id: id1
                  externalProductId: externalProductId
                  externalProductKindId: externalProductKindId
                  productKindName: Current Account 2
                  externalProductTypeId: externalProductTypeId
                  productTypeName: Custom Current Account 2
                  translations:
                    - locale: de_DE
                      localeTranslations:
                        - fieldName: type_name
                          fieldValue: Benutzerdefiniertes Girokonto 2
                    - locale: ar_JO
                      localeTranslations:
                        - fieldName: type_name
                          fieldValue: الحساب الجاري المخصص
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - products
      description: |2-
         Product 

            This JMS EndPoint allows updating of Business/Retail banking products
            Acceptable values for productKindName are:
                "Current Account",
                "Credit Card",
                "Debit Card",
                "Loan",
                "Savings Account",
                "Investment Account",
                "Term Deposit"
      operationId: putProducts
      requestBody:
        description: Update product
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountProductItem'
            examples:
              example:
                $ref: '#/components/examples/AccountProductItem'
      responses:
        '204':
          description: Indicates successful update of a product
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    post:
      tags:
        - products
      description: Create product
      operationId: postProducts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountProductItem'
            examples:
              example:
                $ref: '#/components/examples/AccountProductItem'
      responses:
        '201':
          description: New Product created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountProductId'
              example:
                id: 0955e686-d31e-4216-b3dd-5d66161d536d
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  '/service-api/v2/products/{id}':
    summary: ProductById
    description: No description available
    parameters:
      - name: id
        in: path
        description: product id
        required: true
        schema:
          type: string
        examples:
          example:
            summary: example
            value: oiuoi6464223500oi3
    get:
      tags:
        - products
      description: Retrieve a single product.
      operationId: getProductById
      responses:
        '200':
          description: Get Product by Id. Single Products retrieved from DBS by id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountProductItem'
              examples:
                example:
                  $ref: '#/components/examples/AccountProductItem'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/product-kinds:
    summary: ProductKinds
    description: Resource for managing product kinds
    get:
      tags:
        - product-kinds
      description: Endpoint for getting a list of product kinds
      operationId: getProductKinds
      parameters:
        - name: externalKindIds
          in: query
          description: The external kind ids
          required: false
          schema:
            type: array
            uniqueItems: true
            items:
              minLength: 1
              maxLength: 50
              type: string
          examples:
            example:
              summary: example
              value:
                - '1'
                - '2'
                - '3'
        - name: kindName
          in: query
          description: The product kind name
          required: false
          schema:
            maxLength: 50
            type: string
          examples:
            example:
              summary: example
              value: Current Account
        - name: kindUri
          in: query
          description: 'The uri path to the specific product kind, which can be used by banks that require it'
          required: false
          schema:
            maxLength: 50
            type: string
          examples:
            example:
              summary: example
              value: current-account
      responses:
        '200':
          description: Get product kinds. Retrieves product kinds from database based on search criteria
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductKindsResult'
              example:
                productKinds:
                  - id: 1
                    externalKindId: 123123-123f
                    kindName: Current Account
                    kindUri: current-account
                    translations:
                      - locale: de_DE
                        localeTranslations:
                          - fieldName: kind_name
                            fieldValue: Aktuelles Konto
                      - locale: ar_JO
                        localeTranslations:
                          - fieldName: kind_name
                            fieldValue: الحساب الحالي
                  - id: 2
                    externalKindId: asdads67-asd
                    kindName: Savings Account
                    kindUri: savings-account
                    translations:
                      - locale: de_DE
                        localeTranslations:
                          - fieldName: kind_name
                            fieldValue: Sparkonto
                      - locale: ar_JO
                        localeTranslations:
                          - fieldName: kind_name
                            fieldValue: حساب التوفير
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - product-kinds
      description: Endpoint for updating product kind into database
      operationId: putProductKinds
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExternalProductKindItemPut'
            example:
              id: 123798342
              externalKindId: '1'
              kindName: Current Account
              kindUri: current-account
              translations:
                - locale: de_DE
                  localeTranslations:
                    - fieldName: kind_name
                      fieldValue: Aktuelles Konto
                - locale: ar_JO
                  localeTranslations:
                    - fieldName: kind_name
                      fieldValue: الحساب الحالي
      responses:
        '201':
          description: Product kind updated
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    post:
      tags:
        - product-kinds
      description: Endpoint for inserting a new product kind into database
      operationId: postProductKinds
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExternalProductKindItemExtended'
            example:
              externalKindId: '1'
              kindName: Current Account
              kindUri: current-account
              translations:
                - locale: de_DE
                  localeTranslations:
                    - fieldName: kind_name
                      fieldValue: Aktuelles Konto
                - locale: ar_JO
                  localeTranslations:
                    - fieldName: kind_name
                      fieldValue: الحساب الحالي
      responses:
        '201':
          description: Indication that the Product Kind was created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountProductKindId'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/arrangement-state:
    summary: ArrangementState
    description: Resource for managing state of arrangement
    get:
      tags:
        - arrangement-state
      description: Retrieve list of arrangement states
      operationId: getArrangementState
      parameters:
        - name: externalStateIds
          in: query
          description: The external state ids
          required: false
          schema:
            type: array
            items:
              type: string
          examples:
            example:
              summary: example
              value:
                - '1'
                - '2'
                - '3'
        - name: stateIds
          in: query
          description: The state ids
          required: false
          schema:
            type: array
            items:
              type: integer
              format: int32
          examples:
            example:
              summary: example
              value:
                - 1
                - 2
                - 3
        - name: state
          in: query
          description: The state name
          required: false
          schema:
            minLength: 1
            maxLength: 50
            type: string
          examples:
            example:
              summary: example
              value: Active
      responses:
        '200':
          description: Retrieve all arrangement states from database based on filtering params
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountStateListResponse'
              example:
                states:
                  - id: 1
                    externalStateId: external state id
                    state: Active
                    description: indicates the arrangement is active
                  - id: 2
                    externalStateId: external state id 2
                    state: Open
                    description: indicates the arrangement is open
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - arrangement-state
      description: Endpoint for updating state into database.
      operationId: putArrangementState
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountStateItem'
            examples:
              example:
                $ref: '#/components/examples/AccountStateItem'
      responses:
        '204':
          description: Indication that the state was updated successfully.
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    post:
      tags:
        - arrangement-state
      description: Endpoint for inserting a new state into database.
      operationId: postArrangementState
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountStateItem'
            examples:
              example:
                $ref: '#/components/examples/AccountStateItem'
      responses:
        '201':
          description: Indication that the state was created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountStateItemId'
              example:
                id: 214748347
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/balances/aggregations:
    summary: /aggregations
    description: No description available
    get:
      tags:
        - balances
      description: Retrieve aggregated balances
      operationId: getAggregations
      parameters:
        - name: productKindIds
          in: query
          description: Filters arrangements by given product kind ids and aggregates their balances
          required: false
          schema:
            type: array
            maxItems: 50
            items:
              type: integer
              format: int32
          examples:
            example:
              summary: example
              value:
                - 1
                - 2
                - 3
        - name: groupedBy
          in: query
          description: |
            Groups arrangements by id of given parameter and aggregates their balances
            If it is empty, then it aggregates balances for all arrangements
          required: false
          schema:
            type: string
            enum:
              - PRODUCT_KIND
          examples:
            example:
              summary: example
              value: PRODUCT_KIND
      responses:
        '200':
          description: List of aggregated balances
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountAggregatedBalanceGet'
              examples:
                AggregatedBalancesAll:
                  value:
                    - aggregatedBalances:
                        - currencyCode: EUR
                          amount: '3289.0'
                          numberOfArrangements: 3
                        - currencyCode: USD
                          amount: '2500.0'
                          numberOfArrangements: 10
                AggregatedBalancesGroupedByProductKind:
                  value:
                    - id: '871283172971234'
                      productKindName: Savings Account
                      balanceType: Booked Balance
                      aggregatedBalances:
                        - currencyCode: EUR
                          amount: '3289.0'
                          numberOfArrangements: 3
                        - currencyCode: USD
                          amount: '2500.0'
                          numberOfArrangements: 10
                    - id: '85342342387123'
                      productKindName: Term Deposit
                      balanceType: Outstanding Principal Amount
                      aggregatedBalances:
                        - currencyCode: USD
                          amount: '3543.0'
                          numberOfArrangements: 4
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /service-api/v2/balance-history/filter:
    summary: Balance History Filter
    description: No description available
    post:
      tags:
        - balance-history
      description: Retrieve balance history items.
      operationId: postBalanceHistoryFilter
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceHistoryFilterRequest'
            example:
              arrangementIds:
                - id-1
                - id-2
              dateFrom: '2016-02-28T00:00:00.000Z'
              dateTo: '2017-02-28T00:00:00.000Z'
      responses:
        '200':
          description: List of balance history
          content:
            application/json:
              schema:
                description: A list of balance history items.
                type: array
                items:
                  $ref: '#/components/schemas/BalanceHistoryFilterResponse'
              example:
                - id: id-1
                  arrangementId: arrangement-id-1
                  externalArrangementId: external-arrangement-id-1
                  balance: 123.123
                  date: '2016-02-28T16:41:41.090Z'
                - id: id-2
                  arrangementId: arrangement-id-2
                  externalArrangementId: external-arrangement-id-2
                  balance: 3.1416
                  date: '2017-02-28T16:41:41.090Z'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
components:
  schemas:
    AccountAggregatedBalanceGet:
      type: array
      description: Response object that defines list of aggregated balances
      items:
        $ref: '#/components/schemas/AggregatedBalances'
      example:
        - aggregatedBalances:
            - currencyCode: EUR
              amount: '3289.0'
              numberOfArrangements: 3
            - currencyCode: USD
              amount: '2500.0'
              numberOfArrangements: 10
    AccountAggregatedBalances:
      type: object
      description: DEPRECATED. To be removed in 2.21.0. Please use AggregatedBalances type.
      deprecated: true
      allOf:
        - $ref: '#/components/schemas/AggregatedBalances'
    AccountAggregatedBalancesCurrencies:
      type: array
      description: DEPRECATED. To be removed in 2.21.0. Please use array of AggregatedBalance type.
      deprecated: true
      items:
        $ref: '#/components/schemas/AccountAggregatedBalanceCurrency'
    AccountAggregatedBalanceCurrency:
      type: object
      description: DEPRECATED. To be removed in 2.21.0. Please use AggregatedBalance type.
      deprecated: true
      allOf:
        - $ref: '#/components/schemas/AggregatedBalance'
    AccountArrangementItemBase:
      title: AccountArrangementItemBase
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        name:
          type: string
          maxLength: 50
          description: The name that can be assigned by the bank to label an arrangement
        bookedBalance:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: 'Amount of money available before any adjustments have been made for deposits in transit, checks that have not yet been cleared, reserve requirements and interest received'
        availableBalance:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: The amount that is available for transactions
        creditLimit:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: The maximum amount of credit that the financial institution will extend to the account holder for this arrangement
        IBAN:
          $ref: '#/components/schemas/IBAN'
        BBAN:
          $ref: '#/components/schemas/BBAN'
        BIC:
          $ref: '#/components/schemas/BIC'
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          description: The alpha-3 code (complying with ISO 4217) of the currency that qualifies the amount
        externalTransferAllowed:
          type: boolean
          description: Defines if transfer to another party is allowed
        urgentTransferAllowed:
          type: boolean
          description: Defines if urgent transfer is allowed
        accruedInterest:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: The interest that is earned (credit interest) or due (debit interest) but not settled yet
        number:
          type: string
          maxLength: 36
          description: First 6 and/or last 4 digits of a Payment card. All other digits will/to be masked. Be aware that using card number differently is potential PCI risk.
        principalAmount:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: 'The amount that was (originally) contracted for the respective product. This is mainly used in the context of loans and deposits. '
        currentInvestmentValue:
          type: number
          minimum: 0
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: The total current value of all the securities kept in the account
        productNumber:
          type: string
          maxLength: 36
          description: A unique identifier(number) assigned to identify the contract for the product
        bankBranchCode:
          type: string
          maxLength: 20
          description: This is to accommodate additional country specific fields like Sort Code in UK
        accountOpeningDate:
          type: string
          format: date-time
          description: The date of activation of the account in the bank's system
        accountInterestRate:
          type: number
          minimum: -1000000
          exclusiveMinimum: true
          maximum: 1000000
          exclusiveMaximum: true
          description: The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal.
        valueDateBalance:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: The balance of the account on a specific date that needs to be used for the calculation of interest. NB! If no date is specified (like for the book date balance) the current date can be assumed.
        creditLimitUsage:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: Monetary amount of the used overdraft
        creditLimitInterestRate:
          type: number
          minimum: -1000000
          exclusiveMinimum: true
          maximum: 1000000
          exclusiveMaximum: true
          description: Overdraft Interest is an interest applied to the account for any time throughout the month when the account is overdrawn
        creditLimitExpiryDate:
          type: string
          format: date-time
          description: The date after which overdraft will no longer be available to the account (renewed automatically or cancelled)
        startDate:
          type: string
          format: date-time
          description: The date on which the credit card becomes active
        termUnit:
          $ref: '#/components/schemas/TimeUnit'
        termNumber:
          type: number
          minimum: -10000000000000000
          exclusiveMinimum: true
          maximum: 10000000000000000
          exclusiveMaximum: true
          description: Number for the Term Unit for the product arranged between Bank and customer
        interestPaymentFrequencyUnit:
          $ref: '#/components/schemas/TimeUnit'
        interestPaymentFrequencyNumber:
          type: number
          minimum: -10000000000000000
          exclusiveMinimum: true
          maximum: 10000000000000000
          exclusiveMaximum: true
          description: 'Number of times per year when the accumulated interest is settled to the account on a regular basis. The frequency could be yearly, half-yearly, quarterly, monthly, weekly, daily (or not at all, until maturity).'
        maturityDate:
          type: string
          format: date-time
          description: End term of a holding period
        maturityAmount:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: Amount payable at the end of a holding period of a product (maturity date). For deposit all of the interest is usualy paid at maturity date (IF the term is shorter then one year).
        autoRenewalIndicator:
          type: boolean
          description: Indicates whether or not an arrangement is to be continued after maturity automatically. Usually the product is renewed using the same principal and term unless renegotiation has taken place prior to expiration.
        interestSettlementAccount:
          type: string
          maxLength: 32
          description: Account for settlement of accumulated interest on a regular basis / Account that provides quick access to accumulated cash to facilitate daily settlements with other businesses
        outstandingPrincipalAmount:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: 'The remaining portion of the original loan amount, plus any interest that has been capitalized, that is still owed. Interest accrues on the outstanding principal balance / The value date balance of the arrangement'
        monthlyInstalmentAmount:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: A fixed payment amount paid by a borrower to the bank at a specified date each calendar month.
        amountInArrear:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: The part of a debt that is overdue after missing one or more required payments. The amount of the arrears is the amount accrued from the date on which the first missed payment was due.
        minimumRequiredBalance:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: 'Minimum amount that a customer must have in an account in order to receive some sort of service, such as keeping the account open or receive interest'
        creditCardAccountNumber:
          type: string
          maxLength: 32
          description: The number of the account the credit card transactions settle on (so actually the reference to the settlement account of the card)
        validThru:
          type: string
          format: date-time
          description: 'Expiration date of a credit card, after which is no longer valid'
        applicableInterestRate:
          type: number
          minimum: -1000000
          exclusiveMinimum: true
          maximum: 1000000
          exclusiveMaximum: true
          description: The interest rate or rates which would be used for a particular arrangement
        remainingCredit:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: Amount of money the user is available to use from the Credit limit of the account
        outstandingPayment:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: 'Outstanding payment refers to the outstanding [unpaid] balance, i.e., the current amount due'
        minimumPayment:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: 'The minimum payment set a percentage of balance, or a fixed cash amount'
        minimumPaymentDueDate:
          type: string
          format: date-time
          description: Minimum Payment Due Date shown on your monthly statement to remain in good standing
        totalInvestmentValue:
          type: number
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
          description: 'The value of an asset to its owner, depending on his or her expectations'
        debitCards:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/DebitCardItem'
        accountHolderAddressLine1:
          type: string
          maxLength: 70
          description: Address of the Payer/Payee - Alternate address line for the account
        accountHolderAddressLine2:
          type: string
          maxLength: 70
          description: Address of the Payer/Payee - Alternate address line for the account
        accountHolderStreetName:
          type: string
          maxLength: 70
          description: Street name of the Payer/Payee - Alternate street name for the account.
        town:
          type: string
          maxLength: 35
          description: Town of the Payer/Payee - Alternate town for the account
        postCode:
          type: string
          maxLength: 16
          description: Post Code of the Payer/Payee - - Alternate post code for the account
        countrySubDivision:
          type: string
          maxLength: 35
          description: Post Code of the Payer/Payee - - Alternate country sub division for the account
        accountHolderNames:
          type: string
          maxLength: 256
          description: Party(s) with a relationship to the account.
        accountHolderCountry:
          type: string
          pattern: '^[A-Z]{2}$'
          description: Country of the account holder
        creditAccount:
          type: boolean
          description: Indicator whether or not the arrangement can be used in payment orders as credit account - account to transfer TO
        debitAccount:
          type: boolean
          description: Indicator whether or not the arrangement can be used in payment orders as debit account - account to transfer FROM
        lastUpdateDate:
          type: string
          format: date-time
          description: Last date of balance (or other parameter) update for the given arrangement
        bankAlias:
          type: string
          maxLength: 50
          description: The name that can be assigned by the customer to label the arrangement
        sourceId:
          type: string
          maxLength: 11
          description: Indicate if the account is regular or external
        externalStateId:
          type: string
          maxLength: 50
          description: External reference to the arrangement state
        externalParentId:
          type: string
          maxLength: 50
          description: Indicate if the account has parent child relationship with another account
        financialInstitutionId:
          type: integer
          description: Financial institution ID
          format: int64
          example: 1
        lastSyncDate:
          type: string
          description: Last synchronization datetime
          format: date-time
      required:
        - currency
    AccountArrangementAddedResponse:
      title: AccountArrangementAddedResponse
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: Internally used unique identification
      description: Object that defines the reponse of added arrangement.
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountArrangementItem:
      title: AccountArrangementItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AccountArrangementItemBase'
      properties:
        id:
          type: string
          maxLength: 36
          description: A unique identifier for the Arrangement object that is generated and used Internally in DBS
        productKindName:
          type: string
          minLength: 1
          maxLength: 50
          description: 'The label/name that is used for the respective product kind ex. Current Account, Savings Account'
        visible:
          type: boolean
          deprecated: true
          description: DEPRECATED 2.12.2 AND REPLACED BY `userPreferences.visible`. Indicator whether to show or hide the arrangement on the widget
        legalEntityIds:
          type: array
          description: References to the legal entities that is are owners of the arrangement.
          uniqueItems: true
          minItems: 1
          items:
            maxLength: 36
            type: string
        productId:
          type: string
          maxLength: 36
          description: Reference to the product of which the arrangement is an instantiation.
        productTypeName:
          type: string
          maxLength: 50
          description: The label/name that is used to label a specific product type
        externalLegalEntityId:
          type: string
          maxLength: 50
          description: A unique identifier for the legal entity for which the arrangement is assigned to (this property is being deprecated and its being replaced by legalEntityIds).
        externalProductId:
          type: string
          maxLength: 50
          description: A unique identifier for the product that the arrangement applies to
        externalArrangementId:
          type: string
          minLength: 1
          maxLength: 50
          description: A unique external identifier for the arrangement
        userPreferences:
          $ref: '#/components/schemas/AccountUserPreferencesItem'
        product:
          $ref: '#/components/schemas/AccountPresentationProductItem'
        state:
          $ref: '#/components/schemas/StateItem'
        parentId:
          type: string
          maxLength: 36
          description: Indicate if the account has parent child relationship with another account
      required:
        - id
        - productId
    AccountArrangementItemPost:
      title: AccountArrangementItemPost
      allOf:
        - $ref: '#/components/schemas/AccountArrangementItemBase'
      required:
        - externalProductId
        - externalArrangementId
      properties:
        externalArrangementId:
          type: string
          minLength: 1
          maxLength: 50
          description: A unique external identifier for the arrangement
        externalLegalEntityIds:
          type: array
          uniqueItems: true
          items:
            maxLength: 50
            minLength: 1
            type: string
            description: An external unique identifier for the Legal Entity object.
        legalEntityIds:
          type: array
          uniqueItems: true
          items:
            maxLength: 36
            minLength: 1
            type: string
            description: An internal unique identifier for the Legal Entity object.
        externalProductId:
          maxLength: 50
          minLength: 1
          type: string
          description: A unique identifier for the product that the arrangement applies to
        externalStateId:
          maxLength: 50
          type: string
          description: External reference to the arrangement state
        productId:
          maxLength: 50
          minLength: 1
          type: string
          description: Reference to the product of which the arrangement is an instantiation. This is an external product id
    AccountArrangementItemPut:
      title: AccountArrangementItemPut
      allOf:
        - $ref: '#/components/schemas/AccountArrangementItemBase'
      required:
        - externalArrangementId
      properties:
        externalArrangementId:
          type: string
          minLength: 1
          maxLength: 50
          description: A unique external identifier for the arrangement
        productId:
          maxLength: 50
          minLength: 1
          type: string
          description: Reference to the product of which the arrangement is an instantiation. This is an external product id
    AccountArrangementItems:
      title: AccountArrangementItems
      required:
        - arrangementElements
        - totalElements
      type: object
      properties:
        totalElements:
          type: integer
          description: total number of elements matching the query
          format: int64
        arrangementElements:
          type: array
          items:
            $ref: '#/components/schemas/AccountArrangementItem'
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountArrangementPutItem:
      title: AccountArrangementPutItem
      type: object
      properties:
        name:
          maxLength: 50
          type: string
          description: The name that can be assigned by the bank to label a arrangement.
        bankAlias:
          maxLength: 50
          type: string
          description: The name that can be assigned by the customer to label the arrangement.
        bookedBalance:
          type: number
          description: 'Amount of money available before any adjustments have been made for deposits in transit, checks that have not yet been cleared, reserve requirements and interest received.'
        availableBalance:
          type: number
          description: The amount that is available for transactions.
        creditLimit:
          type: number
          description: The maximum amount of credit that the financial institution will extend to the account holder for this arrangement.
        IBAN:
          $ref: '#/components/schemas/IBAN'
        BBAN:
          $ref: '#/components/schemas/BBAN'
        BIC:
          $ref: '#/components/schemas/BIC'
        currency:
          pattern: '^[A-Z]{3}$'
          type: string
          description: The alpha-3 code (complying with ISO 4217) of the currency that qualifies the amount
        externalTransferAllowed:
          type: boolean
          description: Defines if transfer to another party is allowed.
        urgentTransferAllowed:
          type: boolean
          description: Defines if urgent transfer is allowed.
        accruedInterest:
          type: number
          description: The interest that is earned (credit interest) or due (debit interest) but not settled yet.
        number:
          maxLength: 36
          type: string
          description: First 6 and/or last 4 digits of a Payment card. All other digits will/to be masked. Be aware that using card number differently is potential PCI risk.
        principalAmount:
          type: number
          description: The amount that was (originally) contracted for the respective product. This is mainly used in the context of loans and deposits.
        currentInvestmentValue:
          type: number
          description: The total current value of all the securities kept in the account.
        productNumber:
          maxLength: 36
          type: string
          description: A unique identifier(number) assigned to identify the contract for the product
        bankBranchCode:
          maxLength: 20
          type: string
          description: (This is to accommodate additional country specific fields like Sort Code in UK)
        accountOpeningDate:
          type: string
          description: The date of activation of the account in the bank's system.
          format: date-time
        accountInterestRate:
          type: number
          description: The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal.
        valueDateBalance:
          type: number
          description: The balance of the account on a specific date that needs to be used for the calculation of interest. NB! If no date is specified (like for the book date balance) the current date can be assumed.
        creditLimitUsage:
          type: number
          description: Monetary amount of the used overdraft.
        creditLimitInterestRate:
          type: number
          description: Overdraft Interest is an interest applied to the account for any time throughout the month when the account is overdrawn.
        creditLimitExpiryDate:
          type: string
          description: The date after which overdraft will no longer be available to the account (renewed automatically or cancelled).
          format: date-time
        debitCards:
          type: array
          items:
            $ref: '#/components/schemas/DebitCardItem'
        startDate:
          type: string
          description: The date on which the credit card becames active
          format: date-time
        termUnit:
          $ref: '#/components/schemas/TimeUnit'
        termNumber:
          type: number
          description: Number for the Term Unit for the product arranged between Bank and customer
        maturityDate:
          type: string
          description: End term of a holding period.
          format: date-time
        maturityAmount:
          type: number
          description: Amount payable at the end of a holding period of a product (maturity date). For deposit all of the interest is usualy paid at maturity date (IF the term is shorter then one year).
        autoRenewalIndicator:
          type: boolean
          description: Indicates whether or not an arrangement is to be continued after maturity automatically. Usually the product is renewed using the same principal and term unless renegotiation has taken place prior to expiration.
        interestPaymentFrequencyUnit:
          $ref: '#/components/schemas/TimeUnit'
        interestPaymentFrequencyNumber:
          type: number
          description: 'Number of times per year when the accumulated interest is settled to the account on a regular basis. The frequency could be yearly, half-yearly, quarterly, monthly, weekly, daily (or not at all, until maturity)'
        interestSettlementAccount:
          maxLength: 32
          type: string
          description: Account for settlement of accumulated interest on a regular basis / Account that provides quick access to accumulated cash to facilitate daily settlements with other businesses
        outstandingPrincipalAmount:
          type: number
          description: 'The remaining portion of the original loan amount, plus any interest that has been capitalized, that is still owed. Interest accrues on the outstanding principal balance / The value date balance of the arrangement'
        monthlyInstalmentAmount:
          type: number
          description: A fixed payment amount paid by a borrower to the bank at a specified date each calendar month.
        amountInArrear:
          type: number
          description: The part of a debt that is overdue after missing one or more required payments. The amount of the arrears is the amount accrued from the date on which the first missed payment was due.
        minimumRequiredBalance:
          type: number
          description: 'Minimum amount that a customer must have in an account in order to receive some sort of service, such as keeping the account open or receive interest.'
        creditCardAccountNumber:
          maxLength: 32
          type: string
          description: The number of the account the credit card transactions settle on (so actually the reference to the settlement account of the card)?
        validThru:
          type: string
          description: 'Expiration date of a credit card, after which is no longer valid.'
          format: date-time
        applicableInterestRate:
          type: number
          description: The interest rate or rates which would be used for a particular arrangement.
        remainingCredit:
          type: number
          description: Amount of money the user is available to use from the Credit limit of the account
        outstandingPayment:
          type: number
          description: 'Outstanding payment refers to the outstanding [unpaid] balance, i.e., the current amount due.'
        minimumPayment:
          type: number
          description: 'The minimum payment set a percentage of balance, or a fixed cash amount.'
        minimumPaymentDueDate:
          type: string
          description: Minimum Payment Due Date shown on your monthly statement to remain in good standing.
          format: date-time
        totalInvestmentValue:
          type: number
          description: 'The value of an asset to its owner, depending on his or her expectations'
        accountHolderAddressLine1:
          maxLength: 70
          type: string
          description: Address of the Payer/Payee - Alternate address line for the account.
        accountHolderAddressLine2:
          maxLength: 70
          type: string
          description: Address of the Payer/Payee - Alternate address line for the account.
        accountHolderStreetName:
          maxLength: 70
          type: string
          description: Street name of the Payer/Payee - Alternate street name for the account.
        town:
          maxLength: 35
          type: string
          description: Town of the Payer/Payee - Alternate town for the account.
        postCode:
          maxLength: 16
          type: string
          description: Post Code of the Payer/Payee
        countrySubDivision:
          maxLength: 35
          type: string
          description: Country SubDivision of the Payer/Payee
        accountHolderNames:
          maxLength: 256
          type: string
          description: Party(s) with a relationship to the account.
        accountHolderCountry:
          pattern: '^[A-Z]{2}$'
          type: string
          description: Country of the account holder
        creditAccount:
          type: boolean
          description: Indicator whether or not the arrangement can be used in payment orders as credit account - account to transfer TO
        debitAccount:
          type: boolean
          description: Indicator whether or not the arrangement can be used in payment orders as debit account - account to transfer FROM
        lastUpdateDate:
          type: string
          description: Last date of balance (or other) parameter update for the particular arrangement
          format: date-time
        sourceId:
          maxLength: 11
          type: string
          description: Indicate if the account is regular or external
        stateId:
          type: integer
          description: Internal reference to the arrangement state.
          format: int32
        parentId:
          maxLength: 36
          type: string
          description: Indicate if the account is regular or external
        externalParentId:
          maxLength: 50
          type: string
          description: Indicate if the account is regular or external
        productId:
          maxLength: 36
          minLength: 1
          type: string
          description: Reference to the product of which the arrangement is an instantiation.
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountArrangementsDelete:
      type: array
      uniqueItems: true
      description: List of delete items used to identify the arrangements to be deleted
      items:
        $ref: '#/components/schemas/AccountArrangementsDeleteItem'
    AccountArrangementsDeleteItem:
      title: AccountArrangementsDeleteItem
      required:
        - selector
        - value
      type: object
      properties:
        selector:
          type: string
          description: Selector used to identify the arrangement
          enum:
            - ID
            - EXTERNAL_ID
        value:
          minLength: 1
          type: string
          description: Value of the selector
      description: Item used to identify an arrangement
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountArrangementsDeleteResponse:
      type: array
      uniqueItems: true
      description: List of delete items used to identify the arrangements to be deleted
      items:
        $ref: '#/components/schemas/AccountArrangementsDeleteResponseItem'
    AccountArrangementsDeleteResponseItem:
      title: AccountArrangementsDeleteResponseItem
      required:
        - selector
        - status
        - value
      properties:
        status:
          $ref: '#/components/schemas/BatchResponseStatusCode'
        errors:
          type: array
          description: List of error messages
          items:
            $ref: '#/components/schemas/ErrorItem'
        selector:
          type: string
          description: Selector used to identify the arrangement
          enum:
            - ID
            - EXTERNAL_ID
        value:
          minLength: 1
          type: string
          description: Value of the selector
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountArrangementsFilter:
      title: AccountArrangementsFilter
      type: object
      properties:
        arrangementIds:
          type: array
          uniqueItems: true
          description: A list of arrangements ids for querying database
          items:
            maxLength: 36
            type: string
        ignoreArrangementIds:
          type: array
          uniqueItems: true
          description: ' A list of arrangements ids to ignore when querying database'
          items:
            maxLength: 36
            type: string
        bbans:
          type: array
          uniqueItems: true
          description: A list of BBAN identifiers for querying database
          items:
            $ref: '#/components/schemas/BBAN'
        bankBranchCodes:
          type: array
          uniqueItems: true
          description: A list of bank branch codes for querying database
          items:
            maxLength: 36
            type: string
        iban:
          maxLength: 34
          minLength: 5
          type: string
          description: IBAN (internationally agreed system of identifying bank accounts across national borders) for querying database
        externalArrangementIds:
          type: array
          uniqueItems: true
          description: A list of external arrangements ids for querying database
          items:
            maxLength: 50
            type: string
        externalTransferAllowed:
          type: boolean
          description: External transfer allowed flag
        creditAccount:
          type: boolean
          description: Credit account flag
        debitAccount:
          type: boolean
          description: Debit account flag
        parentIds:
          type: array
          uniqueItems: true
          description: A list of parent arrangements ids for querying database. Use to find child arrangements
          items:
            maxLength: 36
            type: string
        externalParentIds:
          type: array
          uniqueItems: true
          description: A list of external arrangements ids for querying database. Use to find child arrangements
          items:
            maxLength: 50
            type: string
        productKindIds:
          type: array
          uniqueItems: true
          description: An array of product kind ids
          items:
            type: integer
            format: int32
        productKindName:
          maxLength: 50
          minLength: 1
          type: string
          description: Product kind name
        searchTerm:
          maxLength: 256
          type: string
          description: 'Full text search for the following arrangement attributes name,bankAlias,number,BBAN,IBAN,BIC,bankBranchCode and product attributes: productKindName, productTypeName'
        legalEntityIds:
          type: array
          uniqueItems: true
          description: An array of legal Entities internal ids to filter by
          items:
            maxLength: 50
            type: string
        userId:
          maxLength: 36
          type: string
          description: The user identifier
        favorite:
          type: boolean
          description: Favorite flag
        subEntitiesFetches:
          type: array
          uniqueItems: true
          description: 'an array of sub entities to fetch along with the root arrangement object: legalEntities, userFavoriteArrangements'
          items:
            type: string
            enum:
              - legalEntities
              - userFavoriteArrangements
            title: ArrangementFilterParamsSubEntitiesFetches
        customOrder:
          type: boolean
          description: Parameter that identifies weather the returned list should be ordered by custom order/grouping
        favoriteFirst:
          type: boolean
          description: Parameter that sets favorite arrangements on top when true
        sourceId:
          maxLength: 11
          type: string
          description: The source ID
        locale:
          maxLength: 8
          minLength: 2
          type: string
          description: The locale used for searchTerm (e.g. nl_NL)
        from:
          type: integer
          description: Page Number. Skip over pages of elements by specifying a start value for the query
          format: int32
          default: 0
          minimum: 0
        size:
          type: integer
          description: Limit the number of elements on the response.
          format: int32
          default: 10
          minimum: 1
        orderBy:
          type: array
          uniqueItems: true
          items:
            type: string
            enum:
              - name
              - bankAlias
              - bookedBalance
              - availableBalance
              - creditLimit
              - IBAN
              - BBAN
              - currency
              - externalTransferAllowed
              - urgentTransferAllowed
              - accruedInterest
              - Number
              - principalAmount
              - currentInvestmentValue
              - legalEntityId
              - productId
              - productNumber
              - accountOpeningDate
              - accountInterestRate
              - valueDateBalance
              - creditLimitUsage
              - creditLimitInterestRate
              - creditLimitExpiryDate
              - debitCards
              - startDate
              - termUnit
              - termNumber
              - maturityDate
              - maturityAmount
              - autoRenewalIndicator
              - interestPaymentFrequencyUnit
              - interestPaymentFrequencyNumber
              - interestSettlementAccount
              - outstandingPrincipalAmount
              - monthlyInstalmentAmount
              - amountInArrear
              - minimumRequiredBalance
              - creditCardAccountNumber
              - validThru
              - applicableInterestRate
              - remainingCredit
              - outstandingPayment
              - minimumPayment
              - minimumPaymentDueDate
              - totalInvestmentValue
              - accountHolderAddressLine1
              - accountHolderAddressLine2
              - accountHolderStreetName
              - postCode
              - town
              - countrySubDivision
              - accountHolderCountry
              - creditAccount
              - debitAccount
              - productKindName
              - sourceId
              - BIC
              - productTypeName
            title: ArrangementFilterParamsOrderBy
        direction:
          type: string
          enum:
            - ASC
            - DESC
          title: ArrangementFilterParamsDirection
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountArrangementsLegalEntities:
      title: AccountArrangementsLegalEntities
      required:
        - arrangementsLegalEntities
      type: object
      properties:
        arrangementsLegalEntities:
          type: array
          items:
            $ref: '#/components/schemas/AccountPresentationArrangementLegalEntityIds'
      description: Container for a list of unique internal Arrangement identifiers.
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    BalanceHistoryFilterRequest:
      title: BalanceHistoryFilterRequest
      allOf:
        - type: object
          properties:
            from:
              type: integer
              format: int32
              description: Page Number. Skip over pages of elements by specifying a start value for the query
              minimum: 0
              default: 0
              example: 20
            size:
              type: integer
              format: int32
              description: Limit the number of elements in the response.
              minimum: 1
              default: 10
              example: 10
        - type: object
          properties:
            arrangementIds:
              type: array
              description: A list of arrangements ids for querying database
              uniqueItems: true
              minItems: 1
              items:
                maxLength: 36
                minLength: 1
                type: string
            dateFrom:
              type: string
              format: date-time
            dateTo:
              type: string
              format: date-time
      required:
        - arrangementIds
        - dateFrom
        - dateTo
    BalanceHistoryFilterResponse:
      title: BalanceHistoryFilterResponse
      type: object
      description: Object that defines the balance history item.
      properties:
        id:
          maxLength: 36
          minLength: 1
          type: string
          description: A unique identifier for the balance history object.
        arrangementId:
          maxLength: 36
          minLength: 1
          type: string
          description: Internally used unique identification of arrangement.
        externalArrangementId:
          maxLength: 50
          minLength: 1
          type: string
          description: Externally used unique identification of arrangement.
        balance:
          type: number
          description: The value of the balance history item.
        date:
          type: string
          description: Date and time when the balance history item is created.
          format: date-time
      required:
        - arrangementId
        - balance
        - date
        - externalArrangementId
        - id
    BalanceHistoryAddRequest:
      title: BalanceHistoryAddRequest
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        externalArrangementId:
          maxLength: 50
          minLength: 1
          type: string
          description: Externally used unique identification of the balance item.
        balance:
          type: number
          description: The value of the balance item.
        updatedDate:
          type: string
          description: Date and time when the balance item was updated.
          format: date-time
      description: Object that defines the balance item.
      required:
        - balance
        - externalArrangementId
        - updatedDate
    BalanceHistoryAddResponse:
      title: BalanceHistoryAddResponse
      description: Object that defines the response of added balance history item.
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        id:
          type: string
          description: Internally used unique identification
      required:
        - id
    AccountBalanceItem:
      title: AccountBalanceItem
      required:
        - arrangementId
        - availableBalance
        - bookedBalance
      type: object
      properties:
        arrangementId:
          type: string
          description: A unique identifier for the Arrangement object that is generated and used Internally in DBS
        bookedBalance:
          type: number
          description: 'Amount of money available before any adjustments have been made for deposits in transit, checks that have not yet been cleared, reserve requirements and interest received'
        availableBalance:
          type: number
          description: The amount that is available for transactions
        creditLimit:
          type: number
          description: The maximum amount of credit that the financial institution will extend to the account holder for this arrangement
        outstandingPrincipalAmount:
          type: number
          description: ' The value date balance of the arrangement'
        currentInvestmentValue:
          type: number
          description: The total current value of all the securities kept in the account
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountBatchResponseItemExtended:
      title: AccountBatchResponseItemExtended
      required:
        - resourceId
        - status
      properties:
        arrangementId:
          maxLength: 36
          minLength: 1
          type: string
          description: Arrangement id
        action:
          $ref: '#/components/schemas/AccountPersistenceAction'
        resourceId:
          minLength: 1
          type: string
          description: Id of the resource
        status:
          $ref: '#/components/schemas/BatchResponseStatusCode'
        errors:
          type: array
          description: List of error messages
          items:
            $ref: '#/components/schemas/ErrorItem'
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountBatchUpsertArrangement:
      type: array
      description: List of arrangements post used to create or update arrangements
      items:
        $ref: '#/components/schemas/AccountArrangementItemPost'
    AccountBatchUpsertArrangementsPostResponseBody:
      type: array
      items:
        $ref: '#/components/schemas/AccountBatchResponseItemExtended'
    AccountExternalLegalEntityIds:
      title: AccountExternalLegalEntityIds
      type: object
      properties:
        ids:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            minLength: 1
            maxLength: 50
            type: string
            description: A unique identifier for the Legal Entity object coming from the core banking system.
      description: Container for a list of external unique identifiers for the Legal Entities related to the arrangement.
      required:
        - ids
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountInternalIdGetResponseBody:
      title: AccountInternalIdGetResponseBody
      required:
        - internalId
      type: object
      properties:
        internalId:
          type: string
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountPersistenceAction:
      type: string
      description: Persistence action
      enum:
        - add
        - remove
        - update
      x-type-name: PersistenceAction
      x-java-enum-names:
        present: true
    AccountPresentationArrangementLegalEntityIds:
      title: AccountPresentationArrangementLegalEntityIds
      required:
        - arrangementId
        - legalEntityIds
      type: object
      properties:
        arrangementId:
          maxLength: 36
          type: string
          description: A unique identifier for the arrangement.
        legalEntityIds:
          type: array
          uniqueItems: true
          items:
            maxLength: 36
            type: string
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountPresentationProductItem:
      title: AccountPresentationProductItem
      type: object
      properties:
        id:
          maxLength: 50
          type: string
          description: A unique identifier for the product.
        translations:
          uniqueItems: true
          type: array
          items:
            $ref: '#/components/schemas/TranslationItem'
      allOf:
        - $ref: '#/components/schemas/ExternalProductItem'
    ExternalProductKindItemExtended:
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      type: object
      properties:
        externalKindId:
          type: string
          minLength: 1
          maxLength: 50
        kindName:
          type: string
          minLength: 1
          maxLength: 50
        kindUri:
          type: string
          minLength: 1
          maxLength: 50
          pattern: '[a-z\-0-9]*?'
        translations:
          uniqueItems: true
          type: array
          items:
            $ref: '#/components/schemas/TranslationItem'
      required:
        - externalKindId
        - kindName
        - kindUri
    ExternalProductKindItemPut:
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      required:
        - externalKindId
      type: object
      properties:
        externalKindId:
          maxLength: 50
          minLength: 1
          type: string
        kindName:
          maxLength: 50
          minLength: 1
          type: string
        kindUri:
          maxLength: 50
          minLength: 1
          pattern: '[a-z\-0-9]*?'
          type: string
        translations:
          type: array
          items:
            $ref: '#/components/schemas/TranslationItem'
    AccountProductId:
      title: AccountProductId
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: Internally used unique identification
      description: Object that defines an id attribute only.
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountProductKindId:
      title: AccountProductKindId
      required:
        - id
      type: object
      properties:
        id:
          type: integer
          description: A unique identifier for an object that is generated and used Internally in DBS.
          format: int32
      description: Object that defines an id attribute only.
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountRecipientArrangements:
      type: array
      items:
        $ref: '#/components/schemas/AccountArrangementItem'
    AccountStateItem:
      title: AccountStateItem
      required:
        - externalStateId
        - state
      type: object
      properties:
        externalStateId:
          maxLength: 50
          minLength: 1
          type: string
          description: unique external identifier for the state
        state:
          maxLength: 50
          minLength: 1
          type: string
          description: 'unique identifier for the state. Example: Active'
        description:
          maxLength: 200
          type: string
          description: description of the state
    AccountStateItemId:
      title: AccountStateItemId
      required:
        - id
      type: object
      properties:
        id:
          type: integer
          description: A unique identifier for an object that is generated and used internally in DBS.
          format: int32
    AccountStateListResponse:
      title: AccountStateListResponse
      required:
        - states
      type: object
      properties:
        states:
          type: array
          items:
            $ref: '#/components/schemas/AccountStateStateItem'
    AccountStateStateItem:
      title: AccountStateStateItem
      required:
        - externalStateId
        - id
        - state
      type: object
      properties:
        id:
          type: integer
          format: int32
        externalStateId:
          maxLength: 50
          minLength: 1
          type: string
        state:
          maxLength: 50
          minLength: 1
          type: string
        description:
          maxLength: 200
          type: string
    AccountUserPreferencesItem:
      title: AccountUserPreferencesItem
      type: object
      description: |
        User defined preferences for a specific arrangement.
        Note: each user might have different preferences
      properties:
        arrangementId:
          type: string
          minLength: 1
          maxLength: 36
          description: The unique Arrangement identifier related to these user preferences
        alias:
          type: string
          maxLength: 50
          description: The name that can be assigned by the user to label the arrangement
        visible:
          type: boolean
          description: User indicator whether to show or hide the arrangement on the front end
        favorite:
          type: boolean
          description: Indication whether an arrangement can be favorable for a user
      required:
        - arrangementId
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountUserPreferencesItemPut:
      title: AccountUserPreferencesItemPut
      required:
        - arrangementId
        - userId
      type: object
      properties:
        arrangementId:
          maxLength: 36
          minLength: 1
          type: string
          description: The unique Arrangement identifier related to these user preferences
        userId:
          maxLength: 36
          minLength: 1
          type: string
          description: The unique User identifier related to these user preferences
        alias:
          maxLength: 50
          type: string
          description: The name that can be assigned by the user to label the arrangement
        visible:
          type: boolean
          description: User indicator whether to show or hide the arrangement on the front end
        favorite:
          type: boolean
          description: Indication whether an arrangement can be favorable for a user
      description: 'User defined preferences for a specific arrangement. Note: each user might have different preferences'
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
    AccountProductsGet:
      type: array
      items:
        $ref: '#/components/schemas/AccountSchemasProductItem'
    AccountSchemasProductItem:
      allOf:
        - $ref: '#/components/schemas/AccountProductItem'
      required:
        - id
        - externalProductId
        - externalProductKindId
      properties:
        id:
          type: string
          description: Internally used unique identification
    AccountProductItem:
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      required:
        - externalProductId
        - externalProductKindId
      properties:
        externalId:
          type: string
          maxLength: 50
          description: 'A unique identifier for the product that the arrangement applies to '
        externalTypeId:
          type: string
          maxLength: 50
          description: The ID that is used by the Bank to identify the specific Product type - External reference to the product Type.
        typeName:
          type: string
          maxLength: 50
          description: The label/name that is used to label a specific product type.
        externalProductId:
          maxLength: 50
          minLength: 1
          type: string
          description: A unique identifier for the product
        externalProductKindId:
          maxLength: 50
          minLength: 1
          type: string
          description: The ID that is internally used to uniquely identify the kind of product
        productKindName:
          maxLength: 50
          minLength: 1
          type: string
          description: The label that is used for the respective product kind
        externalProductTypeId:
          type: string
          description: The ID that is used by the Bank to identify the Product
        productTypeName:
          type: string
          description: The name that is used by the bank to label a specific product type
        productKind:
          $ref: '#/components/schemas/ExternalProductKindItemExtended'
        translations:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/TranslationItem'
    ApiError:
      title: ApiError
      type: object
      properties:
        message:
          type: string
      required:
        - message
    BadRequestError:
      title: BadRequestError
      type: object
      allOf:
        - $ref: '#/components/schemas/ErrorAwareApi'
      example:
        message: Bad Request
        errors:
          - message: 'Value Exceeded. Must be between {min} and {max}.'
            key: common.api.shoesize
            context:
              max: '50'
              min: '1'
    ErrorAwareApi:
      title: ApiErrorExt
      type: object
      allOf:
        - $ref: '#/components/schemas/ApiError'
      properties:
        errors:
          description: Detailed error information
          type: array
          items:
            $ref: '#/components/schemas/ErrorItem'
      required:
        - errors
    ErrorItem:
      title: ErrorItem
      type: object
      properties:
        message:
          description: Any further information.
          type: string
        key:
          description: '{capability-name}.api.{api-key-name}. For generated validation errors this is the path in the document the error resolves to. e.g. object name + ''.'' + field'
          type: string
        context:
          description: Context can be anything used to construct localised messages.
          type: object
          additionalProperties:
            type: string
      example:
        message: 'Value Exceeded. Must be between {min} and {max}.'
        key: common.api.shoesize
        context:
          max: '50'
          min: '1'
    ForbiddenError:
      title: ForbiddenError
      type: object
      allOf:
        - $ref: '#/components/schemas/ErrorAwareApi'
      example:
        message: Access to requested resource denied.
        errors:
          - message: 'Resource access denied due to an insufficient user quota of {quota}.'
            key: common.api.quota
            context:
              quota: someQuota
    InternalServerError:
      title: InternalServerError
      type: object
      allOf:
        - $ref: '#/components/schemas/ApiError'
      example:
        message: Description of error
    NotAcceptableError:
      title: NotAcceptableError
      type: object
      allOf:
        - $ref: '#/components/schemas/ApiError'
      properties:
        supportedMediaTypes:
          type: array
          description: List of supported media types for this endpoint
          items:
            type: string
      example:
        message: Could not find acceptable representation
        supportedMediaTypes:
          - application/json
    NotFoundError:
      title: NotFoundError
      type: object
      allOf:
        - $ref: '#/components/schemas/ErrorAwareApi'
      example:
        message: Resource not found.
        errors:
          - message: 'Unable to find the resource requested resource: {resource}.'
            key: common.api.resource
            context:
              resource: aResource
    UnauthorizedError:
      title: UnauthorizedError
      type: object
      allOf:
        - $ref: '#/components/schemas/ErrorAwareApi'
      example:
        message: Access to requested resource denied.
        errors:
          - message: Resource access denied due to invalid credentials.
            key: common.api.token
            context:
              accessToken: expired
    UnsupportedMediaTypeError:
      title: UnsupportedMediaTypeError
      type: object
      allOf:
        - $ref: '#/components/schemas/ErrorAwareApi'
      example:
        message: Unsupported media type.
        errors:
          - message: 'The request entity has a media type {mediaType} which the resource does not support.'
            key: common.api.mediaType
            context:
              mediaType: application/javascript
    AdditionalProperties:
      title: AdditionalProperties
      type: object
      properties:
        additions:
          type: object
          additionalProperties:
            type: string
      description: Additional Properties
    AggregatedBalance:
      allOf:
        - $ref: '#/components/schemas/CurrencyType'
      description: Schema defining aggregated balance amount in given currency and number of arrangements.
      type: object
      properties:
        numberOfArrangements:
          type: integer
          description: Number of arrangements that are aggregated for this currency.
      required:
        - numberOfArrangements
    AggregatedBalances:
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      description: Aggregated balances of instance which can be identified by id
      type: object
      properties:
        id:
          type: string
          description: A unique identifier of instance from the grouped by parameter
        productKindName:
          type: string
          description: Localized product kind name that will be filled when aggregations are grouped by product kind.
          maxLength: 50
        balanceType:
          type: string
          description: Balance type for the aggregated balances.
          maxLength: 50
        numberOfArrangements:
          type: integer
          description: Number of arrangements that are aggregated for this group.
        aggregatedBalances:
          $ref: '#/components/schemas/AccountAggregatedBalanceCurrencies'
    AccountAggregatedBalanceCurrencies:
      type: array
      description: List of aggregated balance amount per currency code.
      items:
        $ref: '#/components/schemas/AggregatedBalance'
      example:
        - currencyCode: EUR
          amount: '3289.0'
          numberOfArrangements: 3
        - currencyCode: USD
          amount: '2500.0'
          numberOfArrangements: 10
    BatchResponseStatusCode:
      title: BatchResponseStatusCode
      type: string
      enum:
        - '200'
        - '400'
        - '404'
        - '500'
      x-enum-varnames:
        - HTTP_STATUS_OK
        - HTTP_STATUS_BAD_REQUEST
        - HTTP_STATUS_NOT_FOUND
        - HTTP_STATUS_INTERNAL_SERVER_ERROR
    ConflictError:
      title: ConflictError
      allOf:
        - $ref: '#/components/schemas/ErrorAwareApi'
      description: Represents a 409 *Conflict* HTTP error.
      example:
        $ref: '#/components/responses/409/content/application~1json/example'
    CurrencyType:
      title: CurrencyType
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        amount:
          description: The amount in the specified currency
          type: string
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
        currencyCode:
          type: string
          pattern: '^[A-Z]{3}$'
          description: The alpha-3 code (complying with ISO 4217) of the currency that qualifies the amount.
      required:
        - amount
        - currencyCode
    DebitCardItem:
      title: DebitCardItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      description: Debit Card item
      properties:
        number:
          type: string
          maxLength: 36
          description: First 6 and/or last 4 digits of a Payment card. All other digits will/to be masked. Be aware that using card number differently is potential PCI risk
        expiryDate:
          type: string
          maxLength: 32
          description: 'Expiration date of a credit card, after which is no longer valid'
        cardId:
          type: string
          maxLength: 32
          description: External ID of the card
        cardholderName:
          type: string
          maxLength: 64
          description: First Name and Last Name of card holder.
        cardType:
          type: string
          maxLength: 32
          description: 'Card type to change card image based on it, ex. Maestro Gold'
        cardStatus:
          type: string
          maxLength: 32
          description: 'Status of the card ex. Active, Expired etc'
    ExternalProductItem:
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      type: object
      properties:
        externalId:
          type: string
          maxLength: 50
          description: 'A unique identifier for the product that the arrangement applies to '
        externalTypeId:
          type: string
          maxLength: 50
          description: The ID that is used by the Bank to identify the specific Product type - External reference to the product Type.
        typeName:
          type: string
          maxLength: 50
          description: The label/name that is used to label a specific product type.
        productKind:
          $ref: '#/components/schemas/ExternalProductKindItem'
    ExternalProductKindItem:
      title: ExternalProductKindItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        externalKindId:
          type: string
          minLength: 1
          maxLength: 50
          description: unique external identifier for the product kind
        kindName:
          type: string
          minLength: 1
          maxLength: 50
          description: unique product kind name
        kindUri:
          type: string
          minLength: 1
          maxLength: 50
          pattern: '[a-z\-0-9]*?'
          description: unique product kind uri
      required:
        - externalKindId
        - kindName
        - kindUri
    LocaleTranslationItem:
      title: LocaleTranslationItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      description: Locale Translation item
      properties:
        fieldName:
          type: string
          minLength: 1
          maxLength: 50
          description: Defines the name of the field that is translated.
        fieldValue:
          type: string
          minLength: 1
          maxLength: 50
          description: Defines the translated value of the field.
      required:
        - fieldName
        - fieldValue
    OrderByField:
      title: OrderByField
      type: string
      description: The property name used for ordering.
      enum:
        - name
        - bankAlias
        - bookedBalance
        - availableBalance
        - creditLimit
        - IBAN
        - BBAN
        - BIC
        - currency
        - externalTransferAllowed
        - urgentTransferAllowed
        - accruedInterest
        - principalAmount
        - currentInvestmentValue
        - productNumber
        - accountOpeningDate
        - accountInterestRate
        - valueDateBalance
        - creditLimitUsage
        - creditLimitInterestRate
        - creditLimitExpiryDate
        - startDate
        - termUnit
        - termNumber
        - maturityDate
        - maturityAmount
        - autoRenewalIndicator
        - interestPaymentFrequencyUnit
        - interestPaymentFrequencyNumber
        - interestSettlementAccount
        - outstandingPrincipalAmount
        - monthlyInstalmentAmount
        - amountInArrear
        - minimumRequiredBalance
        - creditCardAccountNumber
        - validThru
        - applicableInterestRate
        - remainingCredit
        - outstandingPayment
        - minimumPayment
        - minimumPaymentDueDate
        - totalInvestmentValue
        - accountHolderAddressLine1
        - accountHolderAddressLine2
        - accountHolderStreetName
        - postCode
        - town
        - countrySubDivision
        - accountHolderCountry
        - creditAccount
        - debitAccount
        - productKindName
        - productTypeName
        - sourceId
    ProductKindItem:
      title: ProductKindItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        id:
          type: integer
        externalKindId:
          type: string
          minLength: 1
          maxLength: 50
          description: unique external identifier for the product kind
        kindName:
          type: string
          minLength: 1
          maxLength: 50
          description: unique product kind name
        kindUri:
          type: string
          minLength: 1
          maxLength: 50
          pattern: '[a-z\-0-9]*?'
          description: unique product kind uri
        translations:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/TranslationItem'
      required:
        - id
        - kindName
    ProductKindsResult:
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      type: object
      properties:
        productKinds:
          type: array
          items:
            $ref: '#/components/schemas/ProductKindItem'
      required:
        - productKinds
      example:
        productKinds:
          - id: 1
            externalKindId: 123123-123f
            kindName: Current Account
            kindUri: current-account
            translations:
              - locale: de_DE
                localeTranslations:
                  - fieldName: kind_name
                    fieldValue: Aktuelles Konto
              - locale: ar_JO
                localeTranslations:
                  - fieldName: kind_name
                    fieldValue: الحساب الحالي
          - id: 2
            externalKindId: asdads67-asd
            kindName: Savings Account
            kindUri: savings-account
            translations:
              - locale: de_DE
                localeTranslations:
                  - fieldName: kind_name
                    fieldValue: Sparkonto
              - locale: ar_JO
                localeTranslations:
                  - fieldName: kind_name
                    fieldValue: حساب التوفير
    SortDirection:
      title: SortDirection
      type: string
      description: Whether to sort results in ascendent or descendent order.
      enum:
        - ASC
        - DESC
      default: DESC
    StateItem:
      title: StateItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        externalStateId:
          maxLength: 50
          type: string
          description: An external unique identifier for the arrangement state object.
        state:
          maxLength: 50
          type: string
          description: Name that describes the specific arrangement state.
    ProductItem:
      title: ProductItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        externalId:
          maxLength: 50
          type: string
          description: 'A unique identifier for the product that the arrangement applies to '
        externalTypeId:
          maxLength: 50
          type: string
          description: The ID that is used by the Bank to identify the specific Product type - External reference to the product Type.
        typeName:
          maxLength: 50
          type: string
          description: The label/name that is used to label a specific product type.
        productKind:
          $ref: '#/components/schemas/SummaryProductKindItem'
    ProductSummaryFlatStructure:
      type: array
      items:
        $ref: '#/components/schemas/ProductSummaryItem'
      example:
        - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4691
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: Mr and Mrs J. Smith
          bankAlias: Our joined account
          sourceId: LJBASI2XXXX
          bookedBalance: 1000
          availableBalance: 1500
          creditLimit: 442.12
          IBAN: CY3887370130MJFTJ3B8Y9W7IGRO
          BBAN: K8873701303897
          currency: AED
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Current Account
          productTypeName: Current Account
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Paris
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Danthe Mohr,Toso Malerot'
          accountHolderCountry: FR
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: Our joined account
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Current Account
            productKind:
              id: 1
              externalKindId: kind1
              kindName: Current Account
              kindUri: current-account
          state:
            externalStateId: externalStateId1
            state: Active
          financialInstitutionId: 1
          lastSyncDate: '2020-09-28T16:41:41.090Z'
        - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4692
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: Howlin Wolf
          bankAlias: Royalties account
          sourceId: LJBASI2XXXX
          bookedBalance: 15000
          availableBalance: 21500
          creditLimit: 3442.12
          IBAN: GB60OHSF29521903589133
          BBAN: K029521903589133
          currency: AED
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Current Account
          productTypeName: Current Account
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Toso Malerot,Danthe Mohr'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: Royalties account
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Current Account
            productKind:
              id: 1
              externalKindId: kind1
              kindName: Current Account
              kindUri: current-account
          state:
            externalStateId: externalStateId2
            state: InActive
          financialInstitutionId: 1
          lastSyncDate: '2020-09-28T16:41:41.090Z'
        - id: 3cdb2224-8926-4b4d-a99f-1c9dfbbb4600
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: Company saving account
          bankAlias: 'Langosh, Okuneva and Spencer'
          sourceId: LJBASI2XXXX
          bookedBalance: 10550000
          availableBalance: 1500
          IBAN: IT09R0442267398V9QB48EV3THQ
          BBAN: K904422673989483
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 36.16
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Savings Account
          productTypeName: productTypeName
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Mile Panika,Toso Malerot'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: 'Langosh, Okuneva and Spencer'
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Saving Account
            productKind:
              id: 1
              externalKindId: kind1
              kindName: Saving Account
              kindUri: Saving-account
          state:
            externalStateId: externalStateId2
            state: Open
          financialInstitutionId: 1
          lastSyncDate: '2020-09-28T16:41:41.090Z'
        - id: 4cdb2224-8926-4b4d-a99f-1c9dfbbb4697
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: 3 Month Deposit
          bankAlias: My Term Deposit
          sourceId: LJBASI2XXXX
          bookedBalance: 10550000
          IBAN: NL81TRIO0212471066
          BBAN: K096842613153393963
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 36.16
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Term Deposit
          productTypeName: My Term Deposit
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Toso Malerot,Danthe Mohr'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: My Term Deposit
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Saving Account
            productKind:
              id: 1
              externalKindId: kind1
              kindName: Saving Account
              kindUri: Saving-account
          debitCards:
            - number: '452178'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '32141'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          state:
            externalStateId: externalStateId1
            state: Active
          financialInstitutionId: 1
          lastSyncDate: '2020-09-28T16:41:41.090Z'
        - id: 5cdb2224-8926-4b4d-a99f-1c9dfbbb4696
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: House Loan
          bankAlias: Our home loan
          sourceId: LJBASI2XXXX
          bookedBalance: 150000
          principalAmount: 200000
          IBAN: LU29806Y5C5H8IC1INZL
          BBAN: K98065581
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Loan
          productTypeName: House Loan
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Terence McCullough,Toso Malerot'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: Our home loan
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: House Loan
            productKind:
              id: 5
              externalKindId: kind5
              kindName: Loan
              kindUri: loan
          state:
            externalStateId: externalStateId1
            state: Active
        - id: 2d94d333-471d-4cd7-84d2-24e822d5ca68
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: Jason Smith Credit Card
          bankAlias: JS Credit Card
          sourceId: LJBASI2XXXX
          bookedBalance: 1250
          availableBalance: 750
          creditLimit: 5000
          IBAN: PL47959864897829628098071024
          BBAN: K7959864897829628098071024
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: '1234'
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Credit Card
          productTypeName: productTypeName
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Jason Smith,Danthe Mohr'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: JS Credit Card
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Investment Account
            productKind:
              id: 7
              externalKindId: kind7
              kindName: Investment Account
              kindUri: investment-account
          state:
            externalStateId: externalStateId1
            state: Active
        - id: 7cdb2224-8926-4b4d-a99f-1c9dfbbb4699
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: Mr J. Smith
          bankAlias: My debit card
          sourceId: LJBASI2XXXX
          bookedBalance: 1000
          availableBalance: 1500
          creditLimit: 442.12
          IBAN: RO46MHPMQM2ZAIS8MDOYXJXR
          BBAN: K2ZAIS8MDOYXJXR
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Debit Card
          productTypeName: productTypeName
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Alaine Kautzer III,Toso Malerot'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: My debit card
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Investment Account
            productKind:
              id: 7
              externalKindId: kind7
              kindName: Investment Account
              kindUri: investment-account
        - id: 8cdb2224-8926-4b4d-a99f-1c9dfbbb4695
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: Mr J. Smith Execution only portfolio
          bankAlias: Mr J. Investment Account
          sourceId: LJBASI2XXXX
          bookedBalance: 1000
          availableBalance: 1500
          creditLimit: 442.12
          IBAN: SI08965141761504424
          BBAN: K8965141761504424
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 75789
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Investment Account
          productTypeName: productTypeName
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'James Bond,Toso Malerot,Jason Smith'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: Mr J. Investment Account
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Investment Account
            productKind:
              id: 7
              externalKindId: kind7
              kindName: Investment Account
              kindUri: investment-account
          financialInstitutionId: 1
          lastSyncDate: '2020-09-28T16:41:41.090Z'
        - id: 6c1261e8-7b6b-4c14-9bb4-e976d834c730
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: 3 Month Deposit Investment
          bankAlias: 3 Month Investment
          sourceId: LJBASI2XXXX
          bookedBalance: 1000
          availableBalance: 1500
          creditLimit: 442.12
          IBAN: SM04K79780125717VXPJ4QPEVV4
          BBAN: K47978012571744
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 88500
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: Loan
          productTypeName: Car Loan
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Otto Zulauf,Danthe Mohr'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: 3 Month Investment
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Car Loan
            productKind:
              id: 5
              externalKindId: kind5
              kindName: loan
              kindUri: loan
        - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4622
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: Custom Product Kind Type 1
          productKindName: My Custom Product Kind
          productTypeName: My Custom Product Kind Type1
          bankAlias: Custom Product Kind Type 1
          sourceId: LJBASI2XXXX
          bookedBalance: 1000
          availableBalance: 1500
          creditLimit: 442.12
          IBAN: EE044174502653307781
          BBAN: K44174502653307781
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Colby Harvey,Danthe Mohr'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: Custom Product Kind Type 1
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: Savings Account
            productKind:
              id: 2
              externalKindId: kind2
              kindName: Savings Account
              kindUri: savings-account
          financialInstitutionId: 1
          lastSyncDate: '2020-09-28T16:41:41.090Z'
        - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4611
          externalArrangementId: bcf10f4d-4b2f-4413-9bab-31ff693608b5
          externalLegalEntityId: c7a382786d514262b75ab9531b749a2b
          externalProductId: fade7867-533e-465e-90cb-e41675c54400
          name: House loan account
          bankAlias: My Custom Product Kind Type 2
          sourceId: LJBASI2XXXX
          bookedBalance: 1000
          availableBalance: 1500
          creditLimit: 442.12
          IBAN: DE78342773203296369720
          BBAN: K8342773203296369720
          currency: EUR
          externalTransferAllowed: true
          urgentTransferAllowed: true
          accruedInterest: 0.54
          number: PANS
          principalAmount: 620.54
          currentInvestmentValue: 0.16
          legalEntityIds:
            - 257da57a-11e4-4553-9175-54baf755069b
            - cd83683b-13f2-43d8-882b-39c9ab27d499
          productId: 36c8fc42-ec97-4f83-8a7c-d622625007f3
          productNumber: ffdd939c-ac4a-4441-ae47-70a7259899e7
          productKindName: My Custom Product Kind
          productTypeName: My Custom Product Kind Type2
          BIC: AABAFI22
          bankBranchCode: bankBranchCode
          visible: false
          accountOpeningDate: '2016-01-28T16:41:41.090Z'
          accountInterestRate: 100.2
          valueDateBalance: 100.1
          creditLimitUsage: 100.3
          creditLimitInterestRate: 100.4
          creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
          startDate: '2016-02-28T16:41:41.090Z'
          termUnit: 'Y'
          termNumber: 50
          interestPaymentFrequencyUnit: M
          interestPaymentFrequencyNumber: 15
          maturityDate: '2017-02-28T16:41:41.090Z'
          maturityAmount: 99.5
          autoRenewalIndicator: true
          interestSettlementAccount: interestSettlementAccount1
          outstandingPrincipalAmount: 100.2
          monthlyInstalmentAmount: 100.1
          amountInArrear: 100.3
          minimumRequiredBalance: 80.4
          creditCardAccountNumber: '123456'
          validThru: '2019-02-28T16:41:41.090Z'
          applicableInterestRate: 101.2
          remainingCredit: 50
          outstandingPayment: 105.5
          minimumPayment: 51.1
          minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
          totalInvestmentValue: 110.2
          debitCards:
            - number: '4578'
              expiryDate: '2020-08-22'
              cardId: id1
              cardholderName: John Doe
              cardType: Visa Electron
              cardStatus: Active
            - number: '3241'
              expiryDate: '2019-01-14'
              cardId: id2
              cardholderName: John Doe
              cardType: Visa
              cardStatus: Active
          accountHolderAddressLine1: accountHolderAddressLine11
          accountHolderAddressLine2: accountHolderAddressLine12
          accountHolderStreetName: accountHolderStreetName1
          town: Skopje
          postCode: '2000'
          countrySubDivision: countrySubDivision1
          accountHolderNames: 'Tony Stark,Danthe Mohr'
          accountHolderCountry: MK
          creditAccount: true
          debitAccount: true
          lastUpdateDate: '2016-01-28T16:41:41.090Z'
          favorite: true
          userPreferences:
            arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
            alias: My Custom Product Kind Type 2
            visible: true
            favorite: false
          product:
            externalId: externalProductidId
            externalTypeId: externalProductTypeId
            typeName: House Loan
            productKind:
              id: 5
              externalKindId: kind5
              kindName: Loan
              kindUri: loan
          parentId: 1cdb2224-8926-4b4d-a99f-1c11223344
          externalParentId: bcf10f4d-4b2f-4413-9bab-31ff623243125
    ProductSummaryItem:
      title: ProductSummaryItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      description: Arrangement item with id included.
      properties:
        id:
          maxLength: 36
          type: string
          description: A unique identifier for the Arrangement object that is generated and used Internally in DBS.
        externalArrangementId:
          maxLength: 50
          type: string
          description: A unique external identifier for the arrangement
        externalLegalEntityId:
          maxLength: 50
          type: string
          description: A unique identifier for the legal entity for which the arrangement is assigned to.
        externalProductId:
          maxLength: 50
          type: string
          description: 'A unique identifier for the product that the arrangement applies to '
        name:
          maxLength: 50
          type: string
          description: The name that can be assigned by the bank to label an arrangement.
        bankAlias:
          maxLength: 50
          type: string
          description: The name that can be assigned by the customer to label the arrangement.
        sourceId:
          maxLength: 11
          type: string
          description: Indicate if the account is regular or external
        bookedBalance:
          type: number
          description: 'Amount of money available before any adjustments have been made for deposits in transit, checks that have not yet been cleared, reserve requirements and interest received.'
        availableBalance:
          type: number
          description: The amount that is available for transactions.
        creditLimit:
          type: number
          description: The maximum amount of credit that the financial institution will extend to the account holder for this arrangement.
        IBAN:
          type: string
          pattern: '^([A-Z]{2}.+)|(•+\d{4})$'
          maxLength: 34
          description: Specifying the IBAN - IBAN is short for International Bank Account Number of the account.
        BBAN:
          type: string
          maxLength: 50
          description: |
            Specifying the BBAN of the account - BBAN is short for Basic Bank
            Account Number. It represents a country-specific bank account number.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          description: The alpha-3 code (complying with ISO 4217) of the currency that qualifies the amount.
        externalTransferAllowed:
          type: boolean
          description: Defines if transfer to another party is allowed.
        urgentTransferAllowed:
          type: boolean
          description: Defines if urgent transfer is allowed.
        accruedInterest:
          type: number
          description: The interest that is earned (credit interest) or due (debit interest) but not settled yet.
        number:
          maxLength: 36
          type: string
          description: First 6 and/or last 4 digits of a Payment card. All other digits will/to be masked. Be aware that using card number differently is potential PCI risk.
        principalAmount:
          type: number
          description: The amount that was (originally) contracted for the respective product. This is mainly used in the context of loans and deposits.
        currentInvestmentValue:
          type: number
          description: The total current value of all the securities kept in the account.
        legalEntityIds:
          type: array
          description: References to the legal entities that are owners of the arrangement.
          uniqueItems: true
          minItems: 1
          items:
            maxLength: 36
            minLength: 1
            type: string
        productId:
          maxLength: 36
          type: string
          description: Reference to the product of which the arrangement is an instantiation.
        productNumber:
          maxLength: 36
          type: string
          description: The number identifying the contract.
        productKindName:
          maxLength: 50
          minLength: 1
          type: string
          description: The label/name that is used for the respective product kind
        productTypeName:
          maxLength: 50
          type: string
          description: The label/name that is used to label a specific product type
        BIC:
          maxLength: 11
          type: string
          description: Bank Identifier Code - international bank code that identifies particular banks worldwide
        bankBranchCode:
          maxLength: 20
          type: string
          description: (This is to accommodate additional country specific fields like Sort Code in UK)
        visible:
          type: boolean
          description: DEPRECATED 2.12.2 AND REPLACED BY `userPreferences.visible`. Indicator whether to show or hide the arrangement on the widget
        accountOpeningDate:
          type: string
          description: The date of activation of the account in the bank's system.
          format: date-time
        accountInterestRate:
          type: number
          description: The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal.
        valueDateBalance:
          type: number
          description: The balance of the account on a specific date that needs to be used for the calculation of interest. NB! If no date is specified (like for the book date balance) the current date can be assumed.
        creditLimitUsage:
          type: number
          description: Monetary amount of the used overdraft.
        creditLimitInterestRate:
          type: number
          description: Overdraft Interest is an interest applied to the account for any time throughout the month when the account is overdrawn.
        creditLimitExpiryDate:
          type: string
          description: The date after which overdraft will no longer be available to the account (renewed automatically or cancelled).
          format: date-time
        startDate:
          type: string
          description: The date on which the credit card becomes active
          format: date-time
        termUnit:
          $ref: '#/components/schemas/TimeUnit'
        termNumber:
          type: number
          description: Number for the Term Unit for the product arranged between Bank and customer
        interestPaymentFrequencyUnit:
          $ref: '#/components/schemas/TimeUnit'
        interestPaymentFrequencyNumber:
          type: number
          description: 'Number of times per year when the accumulated interest is settled to the account on a regular basis. The frequency could be yearly, half-yearly, quarterly, monthly, weekly, daily (or not at all, until maturity)'
        maturityDate:
          type: string
          description: End term of a holding period.
          format: date-time
        maturityAmount:
          type: number
          description: Amount payable at the end of a holding period of a product (maturity date). For deposit all of the interest is usualy paid at maturity date (IF the term is shorter then one year).
        autoRenewalIndicator:
          type: boolean
          description: Indicates whether or not an arrangement is to be continued after maturity automatically. Usually the product is renewed using the same principal and term unless renegotiation has taken place prior to expiration.
        interestSettlementAccount:
          maxLength: 32
          type: string
          description: Account for settlement of accumulated interest on a regular basis / Account that provides quick access to accumulated cash to facilitate daily settlements with other businesses
        outstandingPrincipalAmount:
          type: number
          description: 'The remaining portion of the original loan amount, plus any interest that has been capitalized, that is still owed. Interest accrues on the outstanding principal balance / The value date balance of the arrangement'
        monthlyInstalmentAmount:
          type: number
          description: A fixed payment amount paid by a borrower to the bank at a specified date each calendar month.
        amountInArrear:
          type: number
          description: The part of a debt that is overdue after missing one or more required payments. The amount of the arrears is the amount accrued from the date on which the first missed payment was due.
        minimumRequiredBalance:
          type: number
          description: 'Minimum amount that a customer must have in an account in order to receive some sort of service, such as keeping the account open or receive interest.'
        creditCardAccountNumber:
          maxLength: 32
          type: string
          description: The number of the account the credit card transactions settle on (so actually the reference to the settlement account of the card)?
        validThru:
          type: string
          description: 'Expiration date of a credit card, after which is no longer valid.'
          format: date-time
        applicableInterestRate:
          type: number
          description: The interest rate or rates which would be used for a particular arrangement.
        remainingCredit:
          type: number
          description: Amount of money the user is available to use from the Credit limit of the account
        outstandingPayment:
          type: number
          description: 'Outstanding payment refers to the outstanding [unpaid] balance, i.e., the current amount due.'
        minimumPayment:
          type: number
          description: 'The minimum payment set a percentage of balance, or a fixed cash amount.'
        minimumPaymentDueDate:
          type: string
          description: Minimum Payment Due Date shown on your monthly statement to remain in good standing.
          format: date-time
        totalInvestmentValue:
          type: number
          description: 'The value of an asset to its owner, depending on his or her expectations'
        debitCards:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/DebitCardItem'
        accountHolderAddressLine1:
          maxLength: 70
          type: string
          description: Address of the Payer/Payee - Alternate address line for the account.
        accountHolderAddressLine2:
          maxLength: 70
          type: string
          description: Address of the Payer/Payee - Alternate address line for the account.
        accountHolderStreetName:
          maxLength: 70
          type: string
          description: Street name of the Payer/Payee - Alternate street name for the account.
        town:
          maxLength: 35
          type: string
          description: Town of the Payer/Payee - Alternate town for the account.
        postCode:
          maxLength: 16
          type: string
          description: Post Code of the Payer/Payee
        countrySubDivision:
          maxLength: 35
          type: string
          description: Country SubDivision of the Payer/Payee
        accountHolderNames:
          maxLength: 256
          type: string
          description: Party(s) with a relationship to the account.
        accountHolderCountry:
          pattern: '^[A-Z]{2}$'
          type: string
          description: Country of the account holder
        creditAccount:
          type: boolean
          description: Indicator whether or not the arrangement can be used in payment orders as credit account - account to transfer TO
        debitAccount:
          type: boolean
          description: Indicator whether or not the arrangement can be used in payment orders as debit account - account to transfer FROM
        lastUpdateDate:
          type: string
          description: Last date of balance (or other) parameter update for the particular arrangement
          format: date-time
        favorite:
          type: boolean
          description: DEPRECATED 2.12.2 AND REPLACED BY `userPreferences`. Indication whether an arrangement is set as favorite for a user.
        userPreferences:
          $ref: '#/components/schemas/UserPreferences'
        product:
          $ref: '#/components/schemas/ProductItem'
        state:
          $ref: '#/components/schemas/StateItem'
        parentId:
          maxLength: 36
          type: string
          description: Indicate if the arrangement has parent child relationship with another arrangement.
        externalParentId:
          maxLength: 50
          type: string
          description: Indicate if the arrangement has parent child relationship with another arrangement.
        financialInstitutionId:
          type: integer
          description: Financial institution ID
          format: int64
          example: 1
        lastSyncDate:
          type: string
          description: Last synchronization datetime
          format: date-time
      required:
        - id
        - legalEntityIds
        - debitCards
    SummaryProductKindItem:
      title: SummaryProductKindItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      properties:
        id:
          type: integer
          format: int32
        externalKindId:
          maxLength: 50
          minLength: 1
          type: string
        kindName:
          maxLength: 50
          minLength: 1
          type: string
        kindUri:
          maxLength: 50
          minLength: 1
          pattern: '[a-z\-0-9]*?'
          type: string
      required:
        - externalKindId
        - id
        - kindName
        - kindUri
    UserPreferences:
      title: UserPreferences
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      description: 'User defined preferences for a specific arrangement. Note: each user might have different preferences'
      properties:
        alias:
          maxLength: 50
          type: string
          description: The name that can be assigned by the user to label the arrangement
        visible:
          type: boolean
          description: User indicator whether to show or hide the arrangement on the front end
        favorite:
          type: boolean
          description: Indication whether an arrangement can be favorable for a user
    TimePeriod:
      title: TimePeriod
      type: string
      enum:
        - lastDay
        - lastWeek
        - lastMonth
        - lastYear
        - all
    TimeUnit:
      title: TimeUnit
      type: string
      description: The period of time for the product arranged between Bank and customer
      enum:
        - D
        - W
        - M
        - 'Y'
    TranslationItem:
      title: TranslationItem
      type: object
      allOf:
        - $ref: '#/components/schemas/AdditionalProperties'
      description: Translation item
      properties:
        locale:
          type: string
          minLength: 1
          maxLength: 50
          description: 'Defines the translation natural language as specified in ISO 639-1, and territory two-letter form of ISO 3166.'
        localeTranslations:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/LocaleTranslationItem'
    IBAN:
      type: string
      maxLength: 34
      description: |
        The International Bank Account Number.
        If specified, it must be a valid IBAN, otherwise an invalid value error could be raised.
    BBAN:
      type: string
      maxLength: 50
      description: |
        Specifying the BBAN of the account - BBAN is short for Basic Bank
        Account Number. It represents a country-specific bank account number.
    BIC:
      type: string
      maxLength: 11
      description: Bank Identifier Code - international bank code that identifies particular banks worldwide
  examples:
    AccountArrangementItems:
      value:
        totalElements: 2
        arrangementElements:
          - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5fe66
            name: Spending fee
            bookedBalance: 100.1
            availableBalance: 100.2
            creditLimit: 100.3
            IBAN: GB29NWBK60161331926819
            BBAN: BBAN
            currency: EUR
            bankAlias: Secret account
            externalTransferAllowed: true
            urgentTransferAllowed: false
            accruedInterest: 3.3
            number: PANSuffix
            principalAmount: 100.4
            currentInvestmentValue: 100.5
            productNumber: productNumber
            BIC: BICExample1
            bankBranchCode: bankBranchCode1
            accountOpeningDate: '2016-01-28T16:41:41.090Z'
            accountInterestRate: 100.2
            valueDateBalance: 100.1
            creditLimitUsage: 100.3
            creditLimitInterestRate: 100.4
            creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
            startDate: '2016-02-28T16:41:41.090Z'
            termUnit: 'Y'
            termNumber: 50
            interestPaymentFrequencyUnit: M
            interestPaymentFrequencyNumber: 15
            maturityDate: '2017-02-28T16:41:41.090Z'
            maturityAmount: 99.5
            autoRenewalIndicator: true
            interestSettlementAccount: interestSettlementAccount1
            outstandingPrincipalAmount: 100.2
            monthlyInstalmentAmount: 100.1
            amountInArrear: 100.3
            minimumRequiredBalance: 80.4
            creditCardAccountNumber: '123456'
            validThru: '2019-02-28T16:41:41.090Z'
            applicableInterestRate: 101.2
            remainingCredit: 50
            outstandingPayment: 105.5
            minimumPayment: 51.1
            minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
            totalInvestmentValue: 110.2
            debitCards:
              - number: '4578'
                expiryDate: '2020-08-22'
              - number: '3241'
                expiryDate: '2019-01-14'
            accountHolderAddressLine1: accountHolderAddressLine11
            accountHolderAddressLine2: accountHolderAddressLine12
            accountHolderStreetName: street1
            town: Amsterdam
            postCode: '5000'
            countrySubDivision: subDivision
            accountHolderNames: 'Okuneva Spencer,Mile Panika'
            accountHolderCountry: AF
            creditAccount: true
            debitAccount: true
            lastUpdateDate: '2019-09-28T16:41:41.090Z'
            productId: productId
            productKindName: Current Account
            visible: true
            legalEntityIds:
              - le1
              - le2
            productTypeName: productTypeName
            externalLegalEntityId: le1
            externalProductId: externalProductidId
            userPreferences:
              arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
              alias: My Bank Account
              visible: true
              favorite: false
            product:
              externalId: externalProductidId
              externalTypeId: externalProductTypeId
              typeName: productTypeName
              productKind:
                externalKindId: kind1
                kindName: Current Account
                kindUri: current-account
            sourceId: LJBASI2XXXX
            state:
              externalStateId: externalStateId1
              state: Active
          - id: 1cdb2224-8926-4b4d-a99f-1c9dfbbb46aa
            externalArrangementId: d64c31c4-50e4-11e7-b114-b2f933d5feaa
            name: Spending fee
            bookedBalance: 100.1
            availableBalance: 100.2
            creditLimit: 100.3
            IBAN: GB29NWBK60161331926819
            BBAN: BBAN
            currency: EUR
            bankAlias: Secret account
            externalTransferAllowed: true
            urgentTransferAllowed: false
            accruedInterest: 3.3
            number: PANSuffix
            principalAmount: 100.4
            currentInvestmentValue: 100.5
            productNumber: productNumber
            BIC: BICExample1
            bankBranchCode: bankBranchCode1
            accountOpeningDate: '2016-01-28T16:41:41.090Z'
            accountInterestRate: 100.2
            valueDateBalance: 100.1
            creditLimitUsage: 100.3
            creditLimitInterestRate: 100.4
            creditLimitExpiryDate: '2019-09-28T16:41:41.090Z'
            startDate: '2016-02-28T16:41:41.090Z'
            termUnit: 'Y'
            termNumber: 50
            interestPaymentFrequencyUnit: M
            interestPaymentFrequencyNumber: 15
            maturityDate: '2017-02-28T16:41:41.090Z'
            maturityAmount: 99.5
            autoRenewalIndicator: true
            interestSettlementAccount: interestSettlementAccount1
            outstandingPrincipalAmount: 100.2
            monthlyInstalmentAmount: 100.1
            amountInArrear: 100.3
            minimumRequiredBalance: 80.4
            creditCardAccountNumber: '123456'
            validThru: '2019-02-28T16:41:41.090Z'
            applicableInterestRate: 101.2
            remainingCredit: 50
            outstandingPayment: 105.5
            minimumPayment: 51.1
            minimumPaymentDueDate: '2018-02-28T16:41:41.090Z'
            totalInvestmentValue: 110.2
            debitCards:
              - number: '4578'
                expiryDate: '2020-08-22'
              - number: '3241'
                expiryDate: '2019-01-14'
            accountHolderAddressLine1: accountHolderAddressLine11
            accountHolderAddressLine2: accountHolderAddressLine12
            accountHolderStreetName: street1
            town: Amsterdam
            postCode: '5000'
            countrySubDivision: subDivision
            accountHolderNames: 'Okuneva Spencer,Mile Panika'
            accountHolderCountry: AF
            creditAccount: true
            debitAccount: true
            lastUpdateDate: '2019-09-28T16:41:41.090Z'
            productId: productId
            productKindName: Current Account
            visible: true
            legalEntityIds:
              - le1
              - le2
            productTypeName: productTypeName
            externalLegalEntityId: le1
            externalProductId: externalProductidId
            userPreferences:
              arrangementId: 9aabca5b-63ae-47d9-8d63-c5ed0e831dfa
              alias: My Bank Account
              visible: true
              favorite: false
            product:
              externalId: externalProductidId
              externalTypeId: externalProductTypeId
              typeName: productTypeName
              productKind:
                externalKindId: kind1
                kindName: Current Account
                kindUri: current-account
              state:
                externalStateId: externalStateId2
                state: Open
            sourceId: LJBASI2XXXX
            externalParentId: externalParentId100
    AccountProductItem:
      value:
        externalProductId: externalProductId
        externalProductKindId: externalProductKindId
        productKindName: Current Account
        externalProductTypeId: externalProductTypeId
        productTypeName: Custom Current Account
        translations:
          - locale: de_DE
            localeTranslations:
              - fieldName: type_name
                fieldValue: Benutzerdefiniertes Girokonto
          - locale: ar_JO
            localeTranslations:
              - fieldName: type_name
                fieldValue: الحساب الجاري المخصص
    AccountStateItem:
      value:
        externalStateId: external state id
        state: Active
        description: indicates the arrangement is active
  responses:
    '400':
      description: BadRequest
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/BadRequestError'
          example:
            message: Bad Request
            errors:
              - message: 'Value Exceeded. Must be between {min} and {max}.'
                key: common.api.shoesize
                context:
                  max: '50'
                  min: '1'
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UnauthorizedError'
          example:
            message: Access to requested resource denied.
            errors:
              - message: Resource access denied due to invalid credentials.
                key: common.api.token
                context:
                  accessToken: expired
    '403':
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ForbiddenError'
          example:
            message: Access to requested resource denied.
            errors:
              - message: 'Resource access denied due to an insufficient user quota of {quota}.'
                key: common.api.quota
                context:
                  quota: someQuota
    '404':
      description: NotFound
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/NotFoundError'
          example:
            message: Resource not found.
            errors:
              - message: 'Unable to find the resource requested resource: {resource}.'
                key: common.api.resource
                context:
                  resource: aResource
    '406':
      description: NotAcceptable
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/NotAcceptableError'
          example:
            message: Could not find acceptable representation
            supportedMediaTypes:
              - application/json
    '409':
      description: Conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ConflictError'
          example:
            message: Conflict error
            errors:
              - message: The request could not be completed due to a conflict with the current state of the resource.
                key: transactions.api.billingstatus.transaction
                context:
                  billingStatus: BILLED
    '415':
      description: UnsupportedMediaType
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UnsupportedMediaTypeError'
          example:
            message: Unsupported media type.
            errors:
              - message: 'The request entity has a media type {mediaType} which the resource does not support.'
                key: common.api.mediaType
                context:
                  mediaType: application/javascript
    '500':
      description: InternalServerError
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/InternalServerError'
          example:
            message: Description of error
  parameters:
    header-accept:
      name: Accept
      in: header
      description: Media type that is acceptable for the response.
      required: false
      schema:
        type: string
      examples:
        example:
          summary: example
          value: application/json
    header-content-language:
      name: Content-Language
      in: header
      description: 'Defines the translation natural language as specified in ISO 639-1, and territory two-letter form of ISO 3166.'
      required: false
      schema:
        type: string
      example: en_GB
    path-arrangement-id:
      name: arrangementId
      in: path
      description: Arrangement Id
      required: true
      schema:
        type: string
        minLength: 1
        maxLength: 36
      example: ja12u49303-29202028hdu822-28ckqewer
    query-arrangement-ids:
      name: arrangementIds
      in: query
      description: arrangement ids
      required: false
      schema:
        type: array
        items:
          type: string
          minLength: 1
          maxLength: 36
      example:
        - 6bd1bed8-75b6-4c53-b1d4-0751af5494f2
        - a0eb0dab-cd05-4423-bdb9-81e838fc9046
    query-business-function-req:
      name: businessFunction
      in: query
      description: Provide comma separated contexts for retrieving arrangements
      required: true
      schema:
        type: string
      example: Product Summary
    query-credit-account:
      name: creditAccount
      in: query
      description: Type of account
      required: false
      schema:
        type: boolean
    query-cursor:
      name: cursor
      in: query
      description: |
        Record UUID. As an alternative for specifying 'from' this allows to point to the record to start the selection from.
      required: false
      schema:
        type: string
        default: ''
      examples:
        example:
          summary: example
          value: 76d5be8b-e80d-4842-8ce6-ea67519e8f74
    query-custom-order:
      name: customOrder
      in: query
      description: Parameter that identifies weather the returned list should be ordered by custom order/grouping
      required: false
      schema:
        type: boolean
    query-date-from:
      name: dateFrom
      in: query
      description: Bottom value of date range
      required: false
      schema:
        type: string
        format: date-time
      example: 2016-01-28T16:41:41.090Z
    query-date-to:
      name: dateTo
      in: query
      description: Top value of date range
      required: false
      schema:
        type: string
        format: date-time
      example: 2017-01-28T16:41:41.090Z
    query-debit-account:
      name: debitAccount
      in: query
      description: Type of account
      required: false
      schema:
        type: boolean
    query-external-transfer-allowed:
      name: externalTransferAllowed
      in: query
      description: Privilege for external transfers
      required: false
      schema:
        type: boolean
    query-favorite-first:
      name: favoriteFirst
      in: query
      description: Parameter that sets favorite arrangements on top when true
      required: false
      schema:
        type: boolean
        default: false
    query-favorite:
      name: favorite
      in: query
      description: Indicates whether an arrangement is favorite for a user or not
      required: false
      schema:
        type: boolean
        default: false
    query-favourite-first:
      name: favoriteFirst
      in: query
      description: Parameter that sets favorite arrangements on top when true
      required: false
      schema:
        type: boolean
        default: false
    query-from:
      name: from
      in: query
      description: Page Number. Skip over pages of elements by specifying a start value for the query
      required: false
      schema:
        type: integer
        format: int32
        minimum: 0
        default: 0
      example: 20
    query-ignored-arrangement-ids:
      name: ignoredArrangementIds
      in: query
      description: No description available
      required: false
      schema:
        type: array
        items:
          type: string
      example:
        - 2ab5b5c8-a4bc-4f25-bfb6-4aed7dc9882e
    query-legal-entity-ids-req:
      name: legalEntityIds
      in: query
      description: legal entity ids
      required: true
      schema:
        type: array
        minItems: 1
        items:
          minLength: 1
          maxLength: 36
          type: string
      example:
        - 0e4c1c09-fcf4-42fe-ae57-342603d8ef82
        - 53f023cd-c016-4d19-bdf1-8d83f98c11e1
        - c0a20cc4-5e15-42d4-94a6-1101ed6c1c37
    query-legal-entity-ids:
      name: legalEntityIds
      in: query
      description: legal entity ids
      required: false
      schema:
        type: array
        items:
          type: string
      example:
        - 0e4c1c09-fcf4-42fe-ae57-342603d8ef82
        - 53f023cd-c016-4d19-bdf1-8d83f98c11e1
        - c0a20cc4-5e15-42d4-94a6-1101ed6c1c37
    query-mask-indicator:
      name: maskIndicator
      in: query
      description: Masked/Unmasked card number
      required: false
      schema:
        type: boolean
    query-order-by:
      name: orderBy
      in: query
      description: Order by field
      required: false
      schema:
        type: array
        uniqueItems: true
        items:
          $ref: '#/components/schemas/OrderByField'
    query-privilege:
      name: privilege
      in: query
      description: Privilege for the arrangements
      required: true
      schema:
        type: string
      example: view
    query-product-kind-name:
      name: productKindName
      in: query
      description: Product Kind Name
      required: false
      schema:
        type: string
      example: Current Account
    query-resource-name-req:
      name: resourceName
      in: query
      description: Provide the resource for retrieving arrangements
      required: true
      schema:
        type: string
      example: Product Summary
    query-search-term:
      name: searchTerm
      in: query
      description: Full text search
      required: false
      schema:
        maxLength: 256
        type: string
      example: Account X
    query-size:
      name: size
      in: query
      description: |
        Limit the number of elements on the response. When used in combination with cursor, the value
        is allowed to be a negative number to indicate requesting records upwards from the starting point indicated
        by the cursor.
      required: false
      schema:
        type: integer
        format: int32
        default: 10
        minimum: 1
      examples:
        example:
          summary: example
          value: 80
    query-sort-direction:
      name: direction
      in: query
      description: Direction
      required: false
      schema:
        $ref: '#/components/schemas/SortDirection'
      example: DESC
    query-source-id:
      name: sourceId
      in: query
      description: No description available
      required: false
      schema:
        maxLength: 11
        type: string
      examples:
        example:
          summary: example
          value: LJBASI2XXXX
    query-time-period:
      name: timePeriod
      in: query
      description: Defined time period for showing graph oscillations
      required: false
      schema:
        $ref: '#/components/schemas/TimePeriod'
    query-time-unit:
      name: timeUnit
      in: query
      description: time unit
      required: false
      schema:
        $ref: '#/components/schemas/TimeUnit'
    query-with-latest-balance:
      name: withLatestBalances
      in: query
      description: Retrieve a list of arrangements with the latest balances
      required: false
      schema:
        type: boolean
        default: true
